{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nimport PropTypes from \"prop-types\";\nexport default class BlogPostTemplate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateImage = (file, name) => {\n      this.setState({\n        image: name\n      });\n      this.setState({\n        imageFile: file\n      });\n    };\n\n    this.onSubmit = () => {\n      const PostData = {\n        \"title\": this.state.title,\n        \"blurb\": this.state.blurb,\n        \"date\": new Date().toLocaleDateString(),\n        \"paragraphs\": this.state.paragraphs,\n        \"image\": this.state.image,\n        \"num\": this.props.num\n      };\n      axios.post('/upload/uploadBlogPost', PostData).then(response => alert(response.data));\n\n      if (this.state.image) {\n        var imageFiles = new FormData();\n        imageFiles.append('file', this.state.imageFile);\n        axios.post(\"/upload/uploadImages\", imageFiles).then(res => {\n          // then print response status\n          console.log(`Image upload for page returned: ${res.statusText}`);\n          axios.post(\"/upload/rebuild\", {}, {});\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.state = {\n      title: this.props.title,\n      blurb: this.props.blurb,\n      image: this.props.image,\n      imagefile: this.props.imageFile,\n      paragraphs: this.props.paragraphs\n    };\n    this.onChange = this.onChange.bind(this);\n    this.addParagraph = this.addParagraph.bind(this);\n    this.updateParagraph = this.updateParagraph.bind(this);\n    this.removeParagraph = this.removeParagraph.bind(this);\n    this.updateImage = this.updateImage.bind(this);\n    this.onSubmit = this.onSumit.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  addParagraph(event) {\n    const values = [...this.state.paragraphs];\n    values.push({\n      \"text\": \"\",\n      \"num\": this.state.paragraphs.length\n    });\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  updateParagraph(index, field, value) {\n    const values = [...this.state.paragraphs];\n    values[index][field] = value;\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  removeParagraph(index) {\n    const values = [...this.state.paragraphs];\n    values.splice(index, 1);\n\n    for (var i = index; i < values.length; i++) {\n      values[i].num = values[i].num - 1;\n    }\n\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  render() {\n    const create_paragraphs = this.state.paragraphs.map(paragraph => {\n      /*#__PURE__*/\n      React.createElement(Paragraph, {\n        remove: this.removeParagraph,\n        num: paragraph.num,\n        updateParagraph: this.updateParagraph,\n        removeParagraph: this.removeParagraph,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 5\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageEditor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(BackButton, {\n      backPage: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"pageForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"title\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"blurb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, \"Blurb:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"blurb\",\n      value: this.state.blurb,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(UploadImage, {\n      currentImage: this.state.image,\n      changeImage: this.updateImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    })), create_paragraphs, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button\",\n      onClick: this.addParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 6\n      }\n    }, \"+ New Paragraph\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editSubmitButtons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, \" Upload Post  \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nclass Paragraph extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateParagraph = event => {\n      if (event) {\n        this.setState({\n          [event.target.name]: event.target.value\n        });\n        this.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n      }\n    };\n\n    this.state = {\n      text: this.props.text\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"blogParagraphEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paragraphInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"text\",\n      className: \"editingInput\",\n      value: this.state.text,\n      placeholder: \"A new paragraph...\",\n      onChange: this.updateParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      name: this.props.num,\n      className: \"tooltip trashButton\",\n      onClick: index => this.props.removeParagraph(this.props.num),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, \"Remove paragraph\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js"],"names":["React","Component","axios","BackButton","UploadImage","FaTrashAlt","PropTypes","BlogPostTemplate","constructor","props","updateImage","file","name","setState","image","imageFile","onSubmit","PostData","state","title","blurb","Date","toLocaleDateString","paragraphs","num","post","then","response","alert","data","imageFiles","FormData","append","res","console","log","statusText","catch","err","imagefile","onChange","bind","addParagraph","updateParagraph","removeParagraph","onSumit","event","target","value","values","push","length","index","field","splice","i","render","create_paragraphs","map","paragraph","backPage","Paragraph","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nimport PropTypes from \"prop-types\";\n\nexport default class BlogPostTemplate extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttitle:this.props.title,\n\t\t\tblurb:this.props.blurb,\n\t\t\timage:this.props.image,\n\t\t\timagefile:this.props.imageFile,\n\t\t\tparagraphs:this.props.paragraphs,\n\t\t};\n\t\tthis.onChange=this.onChange.bind(this);\n\t\tthis.addParagraph=this.addParagraph.bind(this);\n\t\tthis.updateParagraph=this.updateParagraph.bind(this);\n\t\tthis.removeParagraph=this.removeParagraph.bind(this);\n\t\tthis.updateImage=this.updateImage.bind(this);\n\t\tthis.onSubmit=this.onSumit.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\t\n\taddParagraph(event){\n\t    const values = [...this.state.paragraphs];\n\t\tvalues.push({\"text\":\"\", \"num\":this.state.paragraphs.length});\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tupdateParagraph(index, field, value){\n\t    const values = [...this.state.paragraphs];\n\t    values[index][field]=value;\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tremoveParagraph(index){\n\t    const values = [...this.state.paragraphs];\n\t    values.splice(index, 1);\n\t    for (var i=index; i<values.length; i++)\t{\n\t    \tvalues[i].num=values[i].num-1;\n\t    }\n\t   \tthis.setState({paragraphs:values});\n\t}\n\n\tupdateImage = (file, name) =>{\n\t\tthis.setState({image:name});\n\t\tthis.setState({imageFile:file});\n\t}\n\n\tonSubmit = () =>{\n\t\tconst PostData={\"title\":this.state.title, \"blurb\":this.state.blurb, \"date\":new Date().toLocaleDateString(), \n\t\t\t\t\t\t\t\"paragraphs\":this.state.paragraphs, \"image\":this.state.image, \"num\":this.props.num };\n\t\taxios.post('/upload/uploadBlogPost', PostData).then((response)=>alert(response.data));\n\t\tif (this.state.image){\n\t\t\tvar imageFiles = new FormData();\n\t\t\timageFiles.append('file', this.state.imageFile);\n\t\t\taxios.post(\"/upload/uploadImages\", imageFiles).then(res => { // then print response status\n\t\t        console.log(`Image upload for page returned: ${res.statusText}`);\n\t\t        axios.post(\"/upload/rebuild\",{},{}); \n\t\t    }).catch(err => console.log(err));\n\t\t}\n\t}\n\n\trender(){\n\t\tconst create_paragraphs = this.state.paragraphs.map((paragraph) => {\n\t\t\t\t<Paragraph remove={this.removeParagraph} \n\t\t\t\t\tnum={paragraph.num} updateParagraph={ this.updateParagraph } removeParagraph={ this.removeParagraph }\n\t\t\t\t/>\n\t\t\t}\n\t    );\n\n\t\treturn(\n\t\t\t<div className=\"pageEditor\">\n\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t<form className=\"pageForm\">\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='title'>Title:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='title' \n\t\t\t\t\t\t\tvalue={this.state.title} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='blurb'>Blurb:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='blurb' \n\t\t\t\t\t\t\tvalue={this.state.blurb} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t\t<UploadImage currentImage={this.state.image} changeImage={this.updateImage} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ create_paragraphs }\n\t\t\t\t\t<button type=\"button\" className=\"button\" onClick={this.addParagraph}> \n\t\t\t\t\t\t+ New Paragraph \n\t\t\t\t\t</button>\n\t\t\t\t\t<div className=\"editSubmitButtons\">\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.onSubmit}> Upload Post  </button>\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.props.backPage}>\n\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Paragraph extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state ={\n\t\t\ttext:this.props.text,\n\t\t}\n\t\tthis.onChange=this.onChange.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\n\tupdateParagraph = (event) => {\n\t\tif(event){\n\t\t\tthis.setState({[event.target.name]:event.target.value})\n\t\t\tthis.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n\t\t}\n\t}\n\n\trender(){\n\n\t\treturn(\n\t \t\t<li className=\"blogParagraphEditing\">\n\n\t\t\t\t<div className=\"paragraphInput\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" className=\"editingInput\" value={this.state.text} placeholder=\"A new paragraph...\" \n\t\t\t\t\t\tonChange={this.updateParagraph}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<button type=\"button\" name={this.props.num} className=\"tooltip trashButton\" \n\t\t\t\t\tonClick={index=>this.props.removeParagraph(this.props.num)}>\n\t\t\t    \t<FaTrashAlt />\n\t\t\t\t    <span className=\"tooltiptext\">Remove paragraph</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t)\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}