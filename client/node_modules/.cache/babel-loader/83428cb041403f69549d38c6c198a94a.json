{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nimport PropTypes from \"prop-types\";\nexport default class BlogPostTemplate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateImage = (file, name) => {\n      this.setState({\n        image: name\n      });\n      this.setState({\n        imageFile: file\n      });\n    };\n\n    this.onSubmit = () => {\n      const PostData = {\n        \"title\": this.state.title,\n        \"blurb\": this.state.blurb,\n        \"date\": this.state.date,\n        \"paragraphs\": this.state.paragraphs,\n        \"image\": this.state.image,\n        \"num\": this.props.num,\n        \"id\": this.props.id\n      };\n\n      if (this.state.create) {\n        axios.post('/upload/uploadBlogPost', PostData).then(response => alert(response.data));\n\n        if (this.state.image) {\n          var imageFiles = new FormData();\n          imageFiles.append('file', this.state.imageFile);\n          axios.post(\"/upload/uploadImages\", imageFiles).then(res => {\n            // then print response status\n            console.log(`Image upload for page returned: ${res.statusText}`);\n            axios.post(\"/upload/rebuild\", {}, {});\n          }).catch(err => console.log(err));\n        }\n      } else {\n        axios.post('/edit/editBlogPost', PostData).then(response => alert(response.data));\n\n        if (this.state.image) {\n          var imageFiles = new FormData();\n          imageFiles.append('file', this.state.imageFile);\n          axios.post(\"/upload/uploadImages\", imageFiles).then(res => {\n            // then print response status\n            console.log(`Image upload for page returned: ${res.statusText}`);\n            axios.post(\"/upload/rebuild\", {}, {});\n          }).catch(err => console.log(err));\n        }\n      }\n    };\n\n    this.state = {\n      create: this.props.create,\n      id: this.props.id,\n      title: this.props.title,\n      blurb: this.props.blurb,\n      image: this.props.image,\n      imageFile: this.props.imageFile,\n      paragraphs: this.props.paragraphs,\n      date: this.props.date ? this.props.date : new Date().toLocaleDateString()\n    };\n    this.onChange = this.onChange.bind(this);\n    this.addParagraph = this.addParagraph.bind(this);\n    this.updateParagraph = this.updateParagraph.bind(this);\n    this.removeParagraph = this.removeParagraph.bind(this);\n    this.updateImage = this.updateImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  addParagraph(event) {\n    const values = [...this.state.paragraphs];\n    values.push(\" \");\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  updateParagraph(index, field, value) {\n    const values = [...this.state.paragraphs];\n    values[index] = value;\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  removeParagraph(index) {\n    const values = [...this.state.paragraphs];\n    values.splice(index, 1);\n\n    for (var i = index; i < values.length; i++) {\n      values[i].num = values[i].num - 1;\n    }\n\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  render() {\n    const create_paragraphs = this.state.paragraphs.map((paragraph, index) => /*#__PURE__*/React.createElement(Paragraph, {\n      key: index,\n      text: paragraph.text,\n      remove: this.removeParagraph,\n      num: index,\n      updateParagraph: this.updateParagraph,\n      removeParagraph: this.removeParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageEditor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(BackButton, {\n      backPage: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"pageForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, \"Post Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"title\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"blurb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, \"Blurb:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"blurb\",\n      value: this.state.blurb,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(UploadImage, {\n      currentImage: this.state.image,\n      changeImage: this.updateImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    })), create_paragraphs, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button\",\n      onClick: this.addParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }\n    }, \"+ New Paragraph\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editSubmitButtons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, \" Upload Post  \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nclass Paragraph extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateParagraph = event => {\n      if (event) {\n        this.setState({\n          \"text\": event.target.value\n        });\n        this.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n      }\n    };\n\n    this.state = {\n      text: this.props.text\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"blogParagraphEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paragraphInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"text\",\n      className: \"editingInput\",\n      value: this.state.text,\n      placeholder: \"A new paragraph...\",\n      onChange: this.updateParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      name: this.props.num,\n      className: \"tooltip trashButton\",\n      onClick: index => this.props.removeParagraph(this.props.num),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, \"Remove paragraph\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js"],"names":["React","Component","axios","BackButton","UploadImage","FaTrashAlt","PropTypes","BlogPostTemplate","constructor","props","updateImage","file","name","setState","image","imageFile","onSubmit","PostData","state","title","blurb","date","paragraphs","num","id","create","post","then","response","alert","data","imageFiles","FormData","append","res","console","log","statusText","catch","err","Date","toLocaleDateString","onChange","bind","addParagraph","updateParagraph","removeParagraph","event","target","value","values","push","index","field","splice","i","length","render","create_paragraphs","map","paragraph","text","backPage","Paragraph"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nimport PropTypes from \"prop-types\";\n\nexport default class BlogPostTemplate extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\tcreate:this.props.create,\n\t\t\tid:this.props.id,\n\t\t\ttitle:this.props.title,\n\t\t\tblurb:this.props.blurb,\n\t\t\timage:this.props.image,\n\t\t\timageFile:this.props.imageFile,\n\t\t\tparagraphs:this.props.paragraphs,\n\t\t\tdate: this.props.date ? this.props.date : new Date().toLocaleDateString()\n\t\t};\n\t\tthis.onChange=this.onChange.bind(this);\n\t\tthis.addParagraph=this.addParagraph.bind(this);\n\t\tthis.updateParagraph=this.updateParagraph.bind(this);\n\t\tthis.removeParagraph=this.removeParagraph.bind(this);\n\t\tthis.updateImage=this.updateImage.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\t\n\taddParagraph(event){\n\t    const values = [...this.state.paragraphs];\n\t\tvalues.push(\" \");\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tupdateParagraph(index, field, value){\n\t    const values = [...this.state.paragraphs];\n\t    values[index]=value;\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tremoveParagraph(index){\n\t    const values = [...this.state.paragraphs];\n\t    values.splice(index, 1);\n\t    for (var i=index; i<values.length; i++)\t{\n\t    \tvalues[i].num=values[i].num-1;\n\t    }\n\t   \tthis.setState({paragraphs:values});\n\t}\n\n\tupdateImage = (file, name) =>{\n\t\tthis.setState({image:name});\n\t\tthis.setState({imageFile:file});\n\t}\n\n\tonSubmit = () =>{\n\t\tconst PostData={\"title\":this.state.title, \"blurb\":this.state.blurb, \"date\":this.state.date, \n\t\t\t\t\t\t\t\"paragraphs\":this.state.paragraphs, \"image\":this.state.image, \"num\":this.props.num, \"id\":this.props.id };\n\t\tif (this.state.create){\n\t\t\taxios.post('/upload/uploadBlogPost', PostData).then((response)=>alert(response.data));\n\t\t\tif (this.state.image){\n\t\t\t\tvar imageFiles = new FormData();\n\t\t\t\timageFiles.append('file', this.state.imageFile);\n\t\t\t\taxios.post(\"/upload/uploadImages\", imageFiles).then(res => { // then print response status\n\t\t\t        console.log(`Image upload for page returned: ${res.statusText}`);\n\t\t\t        axios.post(\"/upload/rebuild\",{},{}); \n\t\t\t    }).catch(err => console.log(err));\n\t\t\t}\n\t\t} else {\n\t\t\taxios.post('/edit/editBlogPost', PostData).then((response)=>alert(response.data));\n\t\t\tif (this.state.image){\n\t\t\t\tvar imageFiles = new FormData();\n\t\t\t\timageFiles.append('file', this.state.imageFile);\n\t\t\t\taxios.post(\"/upload/uploadImages\", imageFiles).then(res => { // then print response status\n\t\t\t        console.log(`Image upload for page returned: ${res.statusText}`);\n\t\t\t        axios.post(\"/upload/rebuild\",{},{}); \n\t\t\t    }).catch(err => console.log(err));\n\t\t\t}\n\t\t}\n\n\t}\n\n\trender(){\n\t\tconst create_paragraphs = this.state.paragraphs.map((paragraph, index) => \n\t\t\t\t<Paragraph key={ index } text={paragraph.text} remove={this.removeParagraph} \n\t\t\t\t\tnum={index} updateParagraph={ this.updateParagraph } removeParagraph={ this.removeParagraph }\n\t\t\t\t/>\n\t    );\n\n\t\treturn(\n\t\t\t<div className=\"pageEditor\">\n\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t<form className=\"pageForm\">\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='title'>Post Title:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='title' \n\t\t\t\t\t\t\tvalue={this.state.title} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='blurb'>Blurb:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='blurb' \n\t\t\t\t\t\t\tvalue={this.state.blurb} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t\t<UploadImage currentImage={this.state.image} changeImage={this.updateImage} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ create_paragraphs }\n\t\t\t\t\t<button type=\"button\" className=\"button\" onClick={this.addParagraph}> \n\t\t\t\t\t\t+ New Paragraph \n\t\t\t\t\t</button>\n\t\t\t\t\t<div className=\"editSubmitButtons\">\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.onSubmit}> Upload Post  </button>\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.props.backPage}>\n\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Paragraph extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext:this.props.text,\n\t\t}\n\t\tthis.onChange=this.onChange.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\n\tupdateParagraph = (event) => {\n\t\tif(event){\n\t\t\tthis.setState({\"text\":event.target.value})\n\t\t\tthis.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n\t\t} \n\t}\n\n\trender(){\n\n\t\treturn(\n\t \t\t<li className=\"blogParagraphEditing\">\n\n\t\t\t\t<div className=\"paragraphInput\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" className=\"editingInput\" value={this.state.text} placeholder=\"A new paragraph...\" \n\t\t\t\t\t\tonChange={this.updateParagraph}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<button type=\"button\" name={this.props.num} className=\"tooltip trashButton\" \n\t\t\t\t\tonClick={index=>this.props.removeParagraph(this.props.num)}>\n\t\t\t    \t<FaTrashAlt />\n\t\t\t\t    <span className=\"tooltiptext\">Remove paragraph</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t)\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}