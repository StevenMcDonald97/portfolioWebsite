{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editLayout.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, ImageCheckBox } from 'App/admin/helperComponents';\nimport PropTypes from 'prop-types';\nimport ImageErrorCatch from 'App/pages/ImageErrorCatch';\nimport { FaSortUp, FaSortDown, FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nconst layoutJson = require('App/layout.json');\n\nexport default class EditLayout extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      menuStyle: layoutJson.navigationStyle,\n      headerAlignment: layoutJson.headerAlignment,\n      portfolioStyle: layoutJson.portfolioStyle,\n      pages: [],\n      deletedLinks: [],\n      numberOfLinks: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.createNewLink = this.createNewLink.bind(this);\n    this.changePageState = this.changePageState.bind(this);\n    this.changeLinkOrder = this.changeLinkOrder.bind(this); // this.onSubmit=this.onSubmit.bind(this);\n  } // need to load a sorted array of page links\n\n\n  componentDidMount() {\n    axios.get('/api/getPageInfo').then(response => {\n      console.log(response.data);\n      let orderedPages = response.data.sort(function (page1, page2) {\n        var key1 = page1.index,\n            key2 = page2.index; // Compare the 2 dates\n\n        if (key1 < key2) return -1;\n        if (key1 > key2) return 1;\n        return 0;\n      });\n      this.setState({\n        menuStyle: response.data.menuStyle,\n        headerAlignment: response.data.headerAlignment,\n        pages: orderedPages,\n        numberOfLinks: orderedPages.length\n      });\n    });\n  }\n\n  createNewLink() {\n    let values = [...this.state.pages];\n    values.push({\n      title: \"New\",\n      type: \"parent\",\n      visible: true,\n      children: [],\n      index: this.state.numberOfLinks\n    });\n    this.setState({\n      pages: values,\n      numberOfLinks: this.state.numberOfLinks + 1\n    });\n  }\n\n  changePageState(index, key, value) {\n    let values = [...this.state.pages];\n    values[index][key] = value;\n    this.setState({\n      pages: values\n    });\n  }\n\n  changeLinkOrder(direction, index) {\n    var newPages = [...this.state.pages];\n\n    if (direction === \"up\" && index > 0) {\n      newPages[index].index = index - 1;\n      newPages[index - 1].index = index;\n    } else if (direction === \"down\" && index < this.state.pages.length - 1) {\n      newPages[index].index = index + 1;\n      newPages[index + 1].index = index;\n    }\n\n    newPages.sort(function (page1, page2) {\n      var key1 = page1.index,\n          key2 = page2.index; // Compare the 2 dates\n\n      if (key1 < key2) return -1;\n      if (key1 > key2) return 1;\n      return 0;\n    });\n    console.log(newPages);\n    this.setState({\n      pages: newPages\n    });\n  }\n\n  render() {\n    const createLinkEditObjects = () => {\n      this.state.pages.map((page, index) => {\n        if (page.type !== \"parent\") {\n          return /*#__PURE__*/React.createElement(LinkEditingObject, {\n            index: index,\n            changeOrder: this.changeLinkOrder,\n            changeParentState: this.changePageState,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(ParentLinkObject, {\n            index: index,\n            children: page.children,\n            changeParentState: this.changePageState,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }\n          });\n        }\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageEditor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel home\",\n      htmlFor: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 6\n      }\n    }, \"Choose your navigation style:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"menuStyle\",\n      className: \"navBarSelect\",\n      value: this.state.menuStyle,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, \"Top Bar\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, \"Dropdown Menu\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, \"Sidebar Menu\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel home\",\n      htmlFor: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }, \"Choose your website title orientation:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"headerAlignment\",\n      className: \"navBarSelect\",\n      value: this.state.headerAlignment,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, \"Left\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }, \"Center\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, \"Right\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }\n    }, \"You can edit the visibility and order of your menu links below\"), this.state.pages.map(page => {\n      if (page.type === \"parent\") {\n        return /*#__PURE__*/React.createElement(ParentLinkObject, {\n          key: page.title,\n          index: page.index,\n          title: page.title,\n          changeParentState: this.changePageState,\n          changeOrder: this.changeLinkOrder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 16\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(LinkEditingObject, {\n          key: page.title,\n          index: page.index,\n          title: page.title,\n          changeParentState: this.changePageState,\n          changeOrder: this.changeLinkOrder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 16\n          }\n        });\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.createNewLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }\n    }, \"Add a Parent Link\"));\n  }\n\n} // class for creating a parent link and giving it children. When children are added to its children list\n// the respective children have their parent fields changed\n\nclass ParentLinkObject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      console.log(event.target);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      this.props.changeParentState(this.props.index, event.target.name, event.target.value);\n    };\n\n    this.handleCheckClick = event => {\n      let values = [...this.state.children];\n\n      if (event.target.checked) {\n        let index = this.state.children.indexOf(event.target.name);\n        values.splice(index, 1);\n      } else {\n        values.push(event.target.name);\n      }\n\n      this.setState({\n        children: values\n      });\n      this.props.changeParentState(this.props.index, \"children\", values);\n    };\n\n    this.state = {\n      title: '',\n      children: this.props.children\n    };\n    this.incrementLinkOrder = this.incrementLinkOrder.bind(this);\n    this.decrementLinkOrder = this.decrementLinkOrder.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  decrementLinkOrder() {\n    this.props.changeOrder(\"up\", this.props.index);\n  }\n\n  incrementLinkOrder() {\n    this.props.changeOrder(\"down\", this.props.index);\n  }\n\n  render() {\n    const childrenOptions = () => {\n      this.props.pages.map(page => {\n        if (page.type !== \"parent\") {\n          return /*#__PURE__*/React.createElement(\"input\", {\n            key: page._id,\n            name: page._id,\n            type: \"checkbox\",\n            checked: this.state.children.includes(page._id),\n            onChange: this.handleCheckClick,\n            value: page.title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 13\n            }\n          });\n        }\n\n        return null;\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"title\",\n      type: \"text\",\n      value: this.state.title,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkOrderArrows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upArrow\",\n      name: \"up\",\n      onClick: this.decrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 75\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"downArrow\",\n      name: \"down\",\n      onClick: this.incrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 79\n      }\n    }))), /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }\n    }));\n  }\n\n} // represents a conntainer with all the fields for editing a link\n\n\nclass LinkEditingObject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      this.props.changeParentState(this.props.index, event.target.name, event.target.value);\n    };\n\n    this.state = {\n      visibility: \"visible\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.incrementLinkOrder = this.incrementLinkOrder.bind(this);\n    this.decrementLinkOrder = this.decrementLinkOrder.bind(this);\n  }\n\n  decrementLinkOrder() {\n    console.log(this.props.index);\n    this.props.changeOrder(\"up\", this.props.index);\n  }\n\n  incrementLinkOrder() {\n    this.props.changeOrder(\"down\", this.props.index);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editImageTag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"imageSmallField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }\n    }, \" \", this.props.title, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 5\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"visibility\",\n      className: \"homePageSelect\",\n      value: this.state.type,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"visible\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 6\n      }\n    }, \"Visible\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"notVisible\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 6\n      }\n    }, \"Not Visible\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkOrderArrows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upArrow\",\n      name: \"up\",\n      onClick: this.decrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 75\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"downArrow\",\n      name: \"down\",\n      onClick: this.incrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 79\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editLayout.js"],"names":["React","Component","axios","BackButton","ImageCheckBox","PropTypes","ImageErrorCatch","FaSortUp","FaSortDown","FaTrashAlt","layoutJson","require","EditLayout","constructor","props","handleChange","event","setState","target","name","value","state","menuStyle","navigationStyle","headerAlignment","portfolioStyle","pages","deletedLinks","numberOfLinks","bind","createNewLink","changePageState","changeLinkOrder","componentDidMount","get","then","response","console","log","data","orderedPages","sort","page1","page2","key1","index","key2","length","values","push","title","type","visible","children","key","direction","newPages","render","createLinkEditObjects","map","page","ParentLinkObject","changeParentState","handleCheckClick","checked","indexOf","splice","incrementLinkOrder","decrementLinkOrder","changeOrder","childrenOptions","_id","includes","LinkEditingObject","visibility"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, ImageCheckBox } from 'App/admin/helperComponents';\nimport PropTypes from 'prop-types';\nimport ImageErrorCatch from 'App/pages/ImageErrorCatch';\nimport { FaSortUp, FaSortDown, FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nconst layoutJson = require('App/layout.json');\n\nexport default class EditLayout extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\tmenuStyle:layoutJson.navigationStyle,\n\t\t\theaderAlignment:layoutJson.headerAlignment,\n\t\t\tportfolioStyle:layoutJson.portfolioStyle,\n\t\t\tpages:[],\n\t\t\tdeletedLinks:[],\n\t\t\tnumberOfLinks:0\n\t\t}\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.createNewLink=this.createNewLink.bind(this);\n\t\tthis.changePageState=this.changePageState.bind(this);\n\t\tthis.changeLinkOrder=this.changeLinkOrder.bind(this);\n\t\t// this.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\t// need to load a sorted array of page links\n\tcomponentDidMount(){\n\t\taxios.get('/api/getPageInfo').then((response) => {\n\t\t\tconsole.log(response.data);\n\t     let orderedPages=response.data.sort(function(page1, page2) {\n\t\t\t  var key1 = (page1.index),\n\t\t\t    key2 = (page2.index);\n\t\t\t  // Compare the 2 dates\n\t\t\t  if (key1 < key2) return -1;\n\t\t\t  if (key1 > key2) return 1;\n\t\t\t  return 0;\n\t\t\t});\n\t\t\tthis.setState({menuStyle:response.data.menuStyle, headerAlignment:response.data.headerAlignment, pages:orderedPages, numberOfLinks:orderedPages.length});\n\t\t})\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t}\n\n\tcreateNewLink(){\n\t\tlet values = [...this.state.pages];\n\t\tvalues.push({title:\"New\", type:\"parent\", visible:true, children:[], index:this.state.numberOfLinks});\n\t\tthis.setState({pages:values, numberOfLinks:this.state.numberOfLinks+1});\n\t}\n\n\tchangePageState(index, key, value){\n\t\tlet values = [...this.state.pages];\n\t\tvalues[index][key]=value;\n\t\tthis.setState({pages:values});\n\t}\n\n\n\tchangeLinkOrder(direction, index){\n\t\tvar newPages = [...this.state.pages];\n\t\tif (direction===\"up\" && index>0){\n\t\t\tnewPages[index].index = index-1;\n\t\t\tnewPages[index-1].index = index;\n\t\t} else if (direction===\"down\" && index<this.state.pages.length-1){\n\t\t\tnewPages[index].index = index+1;\n\t\t\tnewPages[index+1].index = index;\n\t\t} \n\t\tnewPages.sort(function(page1, page2) {\n\t\t  var key1 = (page1.index),\n\t\t    key2 = (page2.index);\n\t\t  // Compare the 2 dates\n\t\t  if (key1 < key2) return -1;\n\t\t  if (key1 > key2) return 1;\n\t\t  return 0;\n\t\t});\n\n\t\tconsole.log(newPages);\n\n\t\tthis.setState({pages:newPages});\n\t}\n\n\trender(){\n\t\tconst createLinkEditObjects = () => {\n\t\t\tthis.state.pages.map((page, index)=>{\n\t\t\t\tif(page.type !== \"parent\"){\n\t\t\t\t\treturn <LinkEditingObject index={index} changeOrder={this.changeLinkOrder} changeParentState={this.changePageState} />\n\t\t\t\t} else {\n\t\t\t\t\treturn <ParentLinkObject index={index} children={page.children} changeParentState={this.changePageState}/>\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"pageEditor\">\n\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t<label className='inputLabel home' htmlFor='type'>Choose your navigation style:</label>\n\t\t\t\t\t<select name='menuStyle' className='navBarSelect' value={this.state.menuStyle} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value='top'>Top Bar</option>\n\t\t\t\t\t\t<option value='dropdown'>Dropdown Menu</option>\n\t\t\t\t\t\t<option value='sidebar'>Sidebar Menu</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t<label className='inputLabel home' htmlFor='type'>Choose your website title orientation:</label>\n\t\t\t\t\t<select name='headerAlignment' className='navBarSelect' value={this.state.headerAlignment} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value='left'>Left</option>\n\t\t\t\t\t\t<option value='center'>Center</option>\n\t\t\t\t\t\t<option value='right'>Right</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"linkEditing\">\n\t\t\t\t\t<h3>You can edit the visibility and order of your menu links below</h3>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.pages.map((page)=>{\n\t\t\t\t\t\t\tif (page.type===\"parent\"){\n\t\t\t\t\t\t\t\treturn <ParentLinkObject key={page.title} index={page.index} title={page.title} changeParentState={this.changePageState} changeOrder={this.changeLinkOrder}/>\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn <LinkEditingObject key={page.title} index={page.index} title={page.title} changeParentState={this.changePageState} changeOrder={this.changeLinkOrder}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\n\t\t\t\t<button type=\"button\" onClick={this.createNewLink}>Add a Parent Link</button>\n\t\t\t</div>\n\n\t\t)\n\t}\n}\n\n\n// class for creating a parent link and giving it children. When children are added to its children list\n// the respective children have their parent fields changed\nclass ParentLinkObject extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttitle:'',\n\t\t\tchildren:this.props.children\n\t\t}\n\t\tthis.incrementLinkOrder=this.incrementLinkOrder.bind(this);\n\t\tthis.decrementLinkOrder=this.decrementLinkOrder.bind(this);\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tconsole.log(event.target);\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t\tthis.props.changeParentState(this.props.index, event.target.name, event.target.value);\n\t}\n\n\thandleCheckClick=(event)=>{\n\t\tlet values=[...this.state.children];\n\t\tif (event.target.checked){\n\t\t\tlet index=this.state.children.indexOf(event.target.name);\n\t\t\tvalues.splice(index,1);\n\t\t} else {\n\t\t\tvalues.push(event.target.name);\n\t\t}\n\n\t\tthis.setState({children:values});\n\t\tthis.props.changeParentState(this.props.index, \"children\", values);\n\t}\n\n\tdecrementLinkOrder(){\n\t\tthis.props.changeOrder(\"up\", this.props.index)\n\t}\n\n\tincrementLinkOrder(){\n\t\tthis.props.changeOrder(\"down\", this.props.index)\n\t}\n\n\trender(){\n\t\tconst childrenOptions = () =>{\n\t\t\tthis.props.pages.map((page)=>{\n\t\t\t\tif (page.type!==\"parent\"){\n\t\t\t\t\treturn <input key={page._id} name={page._id} type=\"checkbox\" checked={this.state.children.includes(page._id)} onChange={this.handleCheckClick} value={page.title}/>\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t})\n\t\t}\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<input name=\"title\" type=\"text\" value={this.state.title} onChange={this.handleChange}></input>\n\n\t\t\t\t<div className=\"linkOrderArrows\">\n\t\t\t\t\t<div className=\"upArrow\" name=\"up\" onClick={this.decrementLinkOrder}><FaSortUp/></div>\n\t\t\t\t\t<div className=\"downArrow\" name=\"down\" onClick={this.incrementLinkOrder}><FaSortDown/></div>\n\t\t\t\t</div>\n\t\t\t\t<FaTrashAlt />\n\t\t\t</div>\n\t\t)\n\t}\n\n\n}\n\n// represents a conntainer with all the fields for editing a link\nclass LinkEditingObject extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\tvisibility:\"visible\"\n\t\t}\n\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.incrementLinkOrder=this.incrementLinkOrder.bind(this);\n\t\tthis.decrementLinkOrder=this.decrementLinkOrder.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t\tthis.props.changeParentState(this.props.index, event.target.name, event.target.value);\n\t}\n\n\tdecrementLinkOrder(){\n\t\tconsole.log(this.props.index);\n\t\tthis.props.changeOrder(\"up\", this.props.index)\n\t}\n\n\tincrementLinkOrder(){\n\t\tthis.props.changeOrder(\"down\", this.props.index)\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"editImageTag\">\n\t\t\t\t<div className='imageSmallField'> {this.props.title} </div>\n\t\t\t\t<div> </div>\n\t\t\t\t<select name='visibility' className='homePageSelect' value={this.state.type} onChange={this.handleChange}>\n\t\t\t\t\t<option value='visible'>Visible</option>\n\t\t\t\t\t<option value='notVisible'>Not Visible</option>\n\t\t\t\t</select>\n\t\t\t\t<div className=\"linkOrderArrows\">\n\t\t\t\t\t<div className=\"upArrow\" name=\"up\" onClick={this.decrementLinkOrder}><FaSortUp/></div>\n\t\t\t\t\t<div className=\"downArrow\" name=\"down\" onClick={this.incrementLinkOrder}><FaSortDown/></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}"]},"metadata":{},"sourceType":"module"}