{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editPages.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { FaTrashAlt } from 'react-icons/fa'; // Font Awesome\n\nimport defaultImage from 'App/admin/exampleImages/defaultImage.png';\nimport HomePageTemplate from 'App/admin/homePageTemplate';\nimport { TextPageTemplate } from 'App/admin/textPageTemplate';\nimport ListPageTemplate from 'App/admin/listPageTemplate';\nimport PortfolioTemplate from 'App/admin/portfolioTemplate';\nimport ErrorBoundary from 'App/errorBoundary';\nimport { BackButton } from 'App/admin/helperComponents';\nexport default class EditPages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPageList = () => {\n      axios.get('/api/getPageInfo').then(response => {\n        this.setState({\n          pages: response.data\n        });\n      });\n    };\n\n    this.state = {\n      pageData: {},\n      pages: [],\n      currentPageId: '',\n      currentPageStyle: 'none'\n    };\n    this.removePage = this.removePage.bind(this);\n    this.getPageList = this.getPageList.bind(this);\n    this.selectPage = this.selectPage.bind(this);\n    this.returnToPageSelection = this.returnToPageSelection.bind(this);\n    this.returnToUserPanel = this.returnToUserPanel.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPageList();\n  }\n\n  removePage(page) {\n    let pageValues = [].slice.array(this.state.pages);\n\n    for (let i = 0; i < pageValues.length; i++) {\n      if (pageValues[i]._id === page._id) {\n        pageValues.splice(i, 1);\n      }\n    }\n\n    this.setState({\n      pages: pageValues\n    });\n    axios.post('/remove/removePage', page, {// receive two    parameter endpoint url ,form data\n    }).then(res => {\n      // then print response status\n      console.log(`Removing page returned: ${res.statusText}`);\n    }).catch(err => console.log(err));\n  }\n\n  selectPage(event) {\n    if (event.target.name === 'home') {\n      this.setState({\n        currentPageStyle: 'home'\n      });\n    } else {\n      this.setState({\n        currentPageId: event.target.name\n      }, () => {\n        for (let i = 0; i < [].slice.array(this.state.pages).length; i++) {\n          if ([].slice.array(this.state.pages)[i]._id === this.state.currentPageId) this.setState({\n            currentPageStyle: [].slice.array(this.state.pages[i]).type\n          });\n        }\n      });\n    }\n  }\n\n  returnToPageSelection() {\n    this.setState({\n      currentPageStyle: 'none'\n    });\n  }\n\n  returnToUserPanel() {\n    this.props.history.push('/userPanel');\n  }\n\n  render() {\n    const PageList = [].slice.array(this.state.pages).map(page => {\n      if (page.type !== \"parent\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pageEditElement\",\n          key: page._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"pageEditTitle\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }\n        }, page.title, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          name: page._id,\n          className: \"pageEditorButton\",\n          onClick: this.selectPage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }\n        }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"tooltip pageEditorButton\",\n          onClick: () => this.removePage(page),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 8\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"tooltiptext\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 8\n          }\n        }, \"Remove this Page\")));\n      }\n\n      return null;\n    });\n\n    if (this.state.currentPageStyle === 'none') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(BackButton, {\n        backPage: this.returnToUserPanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 14\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"editingTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }\n      }, \"Select a Page to Edit\"), /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditElement\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 8\n        }\n      }, \"Home Page\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        name: \"home\",\n        className: \"pageEditorButton\",\n        onClick: this.selectPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 8\n        }\n      }, \"Edit\")), PageList));\n    } else if (this.state.currentPageStyle === 'home') {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(HomePageTemplate, {\n        defaultImage: defaultImage,\n        backPage: this.returnToPageSelection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 6\n        }\n      }));\n    } else if (this.state.currentPageStyle === 'text') {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(TextPageTemplate, {\n        defaultImage: defaultImage,\n        backPage: this.returnToPageSelection,\n        pageId: this.state.currentPageId,\n        createPage: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }\n      }));\n    } else if (this.state.currentPageStyle === 'portfolio') {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(PortfolioTemplate, {\n        defaultImage: defaultImage,\n        backPage: this.returnToPageSelection,\n        imageNames: [],\n        pageId: this.state.currentPageId,\n        createPage: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }\n      }));\n    } else if (this.state.currentPageStyle === 'list') {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ListPageTemplate, {\n        pageType: this.state.pageData.type,\n        backPage: this.returnToPageSelection,\n        pageId: this.state.currentPageId,\n        createPage: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 6\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"editingTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 6\n        }\n      }, \"Select a Page to Edit\"), /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }\n      }, PageList));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editPages.js"],"names":["React","Component","axios","FaTrashAlt","defaultImage","HomePageTemplate","TextPageTemplate","ListPageTemplate","PortfolioTemplate","ErrorBoundary","BackButton","EditPages","constructor","props","getPageList","get","then","response","setState","pages","data","state","pageData","currentPageId","currentPageStyle","removePage","bind","selectPage","returnToPageSelection","returnToUserPanel","componentDidMount","page","pageValues","slice","array","i","length","_id","splice","post","res","console","log","statusText","catch","err","event","target","name","type","history","push","render","PageList","map","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { FaTrashAlt } from 'react-icons/fa';  // Font Awesome\nimport defaultImage from 'App/admin/exampleImages/defaultImage.png';\nimport HomePageTemplate from 'App/admin/homePageTemplate';\nimport {TextPageTemplate } from 'App/admin/textPageTemplate';\nimport ListPageTemplate from 'App/admin/listPageTemplate';\nimport PortfolioTemplate from 'App/admin/portfolioTemplate';\nimport ErrorBoundary from 'App/errorBoundary';\nimport { BackButton } from 'App/admin/helperComponents';\n\nexport default class EditPages extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tpageData:{},\n\t\t\tpages:[],\n\t\t\tcurrentPageId:'',\n\t\t\tcurrentPageStyle:'none'\n\n\t\t};\n\t\tthis.removePage=this.removePage.bind(this);\n\t\tthis.getPageList=this.getPageList.bind(this);\n\t\tthis.selectPage=this.selectPage.bind(this);\n\t\tthis.returnToPageSelection=this.returnToPageSelection.bind(this);\n\t\tthis.returnToUserPanel=this.returnToUserPanel.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPageList();\n\t}\n\n\n\tgetPageList = () =>{\n\t\taxios.get('/api/getPageInfo').then((response) => {\n\t\t  this.setState({pages:response.data});\n\t\t});\n\t}\n\n\tremovePage(page){\n\t\tlet pageValues =[].slice.array(this.state.pages);\n\n\t\tfor (let i=0; i<pageValues.length; i++){\n\t\t\tif (pageValues[i]._id===page._id){\n\t\t\t\tpageValues.splice(i, 1);\n\t\t\t}\n\t\t}\n\t\tthis.setState({pages:pageValues});\n\t\t\n\t\taxios.post('/remove/removePage', page, { \n\t\t// receive two    parameter endpoint url ,form data\n\t\t}).then(res => { // then print response status\n\t\t\tconsole.log(`Removing page returned: ${res.statusText}`);\n\t\t}).catch(err => console.log(err));\n\n\t}\n\n\tselectPage(event){\n\t\tif (event.target.name==='home') {\n \t\t\tthis.setState({currentPageStyle:'home'});\t\t\n \t\t} else {\n\t\t\tthis.setState({currentPageId:event.target.name},\n\t\t\t()=>{\n\t\t\t\tfor(let i=0; i< [].slice.array(this.state.pages).length; i++){\n\t\t\t\t\tif ([].slice.array(this.state.pages)[i]._id===this.state.currentPageId) this.setState({currentPageStyle:[].slice.array(this.state.pages[i]).type});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\n\treturnToPageSelection(){\n\t\tthis.setState({currentPageStyle:'none'});\n\t}\n\t\n\treturnToUserPanel(){\n\t\tthis.props.history.push('/userPanel');\n\t}\n\n\n\trender() {\n\t\tconst PageList = [].slice.array(this.state.pages).map((page) =>{\n\t\t\tif (page.type!==\"parent\"){\n\t\t\t\treturn (\n\t\t\t\t\t<div className='pageEditElement' key={page._id}> \n\t\t\t\t\t\t<div className='pageEditTitle'>{page.title} </div>\n\t\t\t\t\t\t<button type='button' name={page._id} className='pageEditorButton' onClick={this.selectPage}>\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type='button' className='tooltip pageEditorButton' onClick={()=>this.removePage(page)}>\n\t\t\t\t\t\t\t<FaTrashAlt />\n\t\t\t\t\t\t\t<span className='tooltiptext'>\n\t\t\t\t\t\t\t\tRemove this Page\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t} \n\t\t\treturn null;\n\t\t});\n\n\t\tif (this.state.currentPageStyle==='none'){\n\t\t\treturn(\n\t\t\t\t<div className=\"pageEditor\">\n          \t\t\t<BackButton backPage={this.returnToUserPanel}/>\n\t\t\t\t\t<h3 className='editingTitle'>Select a Page to Edit</h3>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<div className='pageEditElement'> \n\t\t\t\t\t\t\t<div className='pageEditTitle'>Home Page</div>\n\t\t\t\t\t\t\t<button type='button' name='home' className='pageEditorButton' onClick={this.selectPage}>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ PageList }\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (this.state.currentPageStyle==='home'){\n\t\t\treturn( \n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<HomePageTemplate\n\t\t\t\t\tdefaultImage={defaultImage} \n\t\t\t\t\tbackPage={this.returnToPageSelection} \n\t\t\t\t/>\n\t\t\t\t</ErrorBoundary>\n\t\t\t);\n\t\t} else if (this.state.currentPageStyle==='text'){\n\t\t\treturn( \n\t\t\t\t<ErrorBoundary>\n\n\t\t\t\t\t<TextPageTemplate\n\t\t\t\t\tdefaultImage={defaultImage} backPage={this.returnToPageSelection} \n\t\t\t\t\tpageId={this.state.currentPageId}\n\t\t\t\t\tcreatePage={false}/>\n\t\t\t\t</ErrorBoundary>\n\t\t\t);\n\t\t} else if (this.state.currentPageStyle==='portfolio'){\n\t\t\treturn( \n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<PortfolioTemplate \n\t\t\t\t\tdefaultImage={defaultImage} backPage={this.returnToPageSelection} \n\t\t\t\t\timageNames={[]}\n\t\t\t\t\tpageId={this.state.currentPageId}\n\t\t\t\t\tcreatePage={false}/>\n\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t);\n\t\t} else if (this.state.currentPageStyle==='list'){\n\t\t\treturn( \n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<ListPageTemplate pageType={this.state.pageData.type} backPage={this.returnToPageSelection} \n\t\t\t\t\tpageId={this.state.currentPageId}\n\t\t\t\t\tcreatePage={false}/>\n\t\t\t\t</ErrorBoundary>\n\t\t\t\t);\n\t\t} else { \n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t\t<h3 className='editingTitle'>Select a Page to Edit</h3>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t{ PageList }\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} \n\t}\n}\n\n"]},"metadata":{},"sourceType":"module"}