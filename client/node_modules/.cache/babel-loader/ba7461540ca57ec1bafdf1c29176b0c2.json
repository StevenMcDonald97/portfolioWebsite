{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nimport PropTypes from \"prop-types\";\nexport default class BlogPostTemplate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateImage = (file, name) => {\n      this.setState({\n        image: name\n      });\n      this.setState({\n        imageFile: file\n      });\n    };\n\n    this.onSubmit = () => {\n      console.log(this.state);\n      const PostData = {\n        \"title\": this.state.title,\n        \"blurb\": this.state.blurb,\n        \"date\": this.state.date,\n        \"paragraphs\": this.state.paragraphs,\n        \"image\": this.state.image,\n        \"num\": this.props.num,\n        \"id\": this.props.id\n      };\n\n      if (this.state.create === \"create\") {\n        axios.post('/upload/uploadBlogPost', PostData).then(response => alert(response.data));\n\n        if (this.state.image) {\n          var imageFiles = new FormData();\n          imageFiles.append('file', this.state.imageFile);\n          axios.post(\"/upload/uploadImages\", imageFiles).then(res => {\n            // then print response status\n            console.log(`Image upload for page returned: ${res.statusText}`);\n            axios.post(\"/upload/rebuild\", {}, {});\n          }).catch(err => console.log(err));\n        }\n      } else {\n        PostData._id = this.state.id;\n        axios.post('/edit/editBlogPost', PostData).then(response => alert(response.data));\n\n        if (this.state.image) {\n          var imageFiles = new FormData();\n          imageFiles.append('file', this.state.imageFile);\n          axios.post(\"/upload/uploadImages\", imageFiles).then(res => {\n            // then print response status\n            console.log(`Image upload for page returned: ${res.statusText}`);\n            axios.post(\"/upload/rebuild\", {}, {});\n          }).catch(err => console.log(err));\n        }\n      }\n    };\n\n    console.log(props);\n    this.state = {\n      create: props.create,\n      id: props.id,\n      title: props.title,\n      blurb: props.blurb,\n      image: props.image,\n      imageFile: props.imageFile,\n      paragraphs: props.paragraphs,\n      date: props.date ? props.date : new Date().toLocaleDateString()\n    };\n    this.onChange = this.onChange.bind(this);\n    this.addParagraph = this.addParagraph.bind(this);\n    this.updateParagraph = this.updateParagraph.bind(this);\n    this.removeParagraph = this.removeParagraph.bind(this);\n    this.updateImage = this.updateImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  addParagraph(event) {\n    const values = [...this.state.paragraphs];\n    values.push(\" \");\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  updateParagraph(index, field, value) {\n    const values = [...this.state.paragraphs];\n    values[index] = value;\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  removeParagraph(index) {\n    const values = [...this.state.paragraphs];\n    values.splice(index, 1);\n\n    for (var i = index; i < values.length; i++) {\n      values[i].num = values[i].num - 1;\n    }\n\n    this.setState({\n      paragraphs: values\n    });\n  }\n\n  render() {\n    const create_paragraphs = this.state.paragraphs.map((paragraph, index) => /*#__PURE__*/React.createElement(Paragraph, {\n      key: index,\n      text: paragraph.text,\n      remove: this.removeParagraph,\n      num: index,\n      updateParagraph: this.updateParagraph,\n      removeParagraph: this.removeParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }));\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageEditor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(BackButton, {\n      backPage: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"pageForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, \"Post Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"title\",\n      value: this.state.title,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"blurb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, \"Blurb:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"blurb\",\n      value: this.state.blurb,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(UploadImage, {\n      currentImage: this.state.image,\n      changeImage: this.updateImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    })), create_paragraphs, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button\",\n      onClick: this.addParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 6\n      }\n    }, \"+ New Paragraph\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editSubmitButtons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, \" Upload Post  \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"editSubmitButton\",\n      onClick: this.props.backPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nclass Paragraph extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateParagraph = event => {\n      if (event) {\n        this.setState({\n          \"text\": event.target.value\n        });\n        this.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n      }\n    };\n\n    this.state = {\n      text: this.props.text\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"blogParagraphEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paragraphInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"text\",\n      className: \"editingInput\",\n      value: this.state.text,\n      placeholder: \"A new paragraph...\",\n      onChange: this.updateParagraph,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      name: this.props.num,\n      className: \"tooltip trashButton\",\n      onClick: index => this.props.removeParagraph(this.props.num),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, \"Remove paragraph\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/blogPostTemplate.js"],"names":["React","Component","axios","BackButton","UploadImage","FaTrashAlt","PropTypes","BlogPostTemplate","constructor","props","updateImage","file","name","setState","image","imageFile","onSubmit","console","log","state","PostData","title","blurb","date","paragraphs","num","id","create","post","then","response","alert","data","imageFiles","FormData","append","res","statusText","catch","err","_id","Date","toLocaleDateString","onChange","bind","addParagraph","updateParagraph","removeParagraph","event","target","value","values","push","index","field","splice","i","length","render","create_paragraphs","map","paragraph","text","backPage","Paragraph"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'src/App/admin/helperComponents';\nimport { FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nimport PropTypes from \"prop-types\";\n\nexport default class BlogPostTemplate extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tconsole.log(props)\n\t\tthis.state ={\n\t\t\tcreate:props.create,\n\t\t\tid:props.id,\n\t\t\ttitle:props.title,\n\t\t\tblurb:props.blurb,\n\t\t\timage:props.image,\n\t\t\timageFile:props.imageFile,\n\t\t\tparagraphs:props.paragraphs,\n\t\t\tdate: props.date ? props.date : new Date().toLocaleDateString()\n\t\t};\n\t\tthis.onChange=this.onChange.bind(this);\n\t\tthis.addParagraph=this.addParagraph.bind(this);\n\t\tthis.updateParagraph=this.updateParagraph.bind(this);\n\t\tthis.removeParagraph=this.removeParagraph.bind(this);\n\t\tthis.updateImage=this.updateImage.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\t\n\taddParagraph(event){\n\t    const values = [...this.state.paragraphs];\n\t\tvalues.push(\" \");\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tupdateParagraph(index, field, value){\n\t    const values = [...this.state.paragraphs];\n\t    values[index]=value;\n\t\tthis.setState({paragraphs:values});\n\t}\n\n\tremoveParagraph(index){\n\t    const values = [...this.state.paragraphs];\n\t    values.splice(index, 1);\n\t    for (var i=index; i<values.length; i++)\t{\n\t    \tvalues[i].num=values[i].num-1;\n\t    }\n\t   \tthis.setState({paragraphs:values});\n\t}\n\n\tupdateImage = (file, name) =>{\n\t\tthis.setState({image:name});\n\t\tthis.setState({imageFile:file});\n\t}\n\n\tonSubmit = () =>{\n\t\tconsole.log(this.state);\n\n\t\tconst PostData={\"title\":this.state.title, \"blurb\":this.state.blurb, \"date\":this.state.date, \n\t\t\t\t\t\t\t\"paragraphs\":this.state.paragraphs, \"image\":this.state.image, \"num\":this.props.num, \"id\":this.props.id };\n\t\tif (this.state.create === \"create\"){\n\n\t\t\taxios.post('/upload/uploadBlogPost', PostData).then((response)=>alert(response.data));\n\t\t\tif (this.state.image){\n\t\t\t\tvar imageFiles = new FormData();\n\t\t\t\timageFiles.append('file', this.state.imageFile);\n\t\t\t\taxios.post(\"/upload/uploadImages\", imageFiles).then(res => { // then print response status\n\t\t\t        console.log(`Image upload for page returned: ${res.statusText}`);\n\t\t\t        axios.post(\"/upload/rebuild\",{},{}); \n\t\t\t    }).catch(err => console.log(err));\n\t\t\t}\n\t\t} else {\n\t\t\tPostData._id=this.state.id;\n\t\t\taxios.post('/edit/editBlogPost', PostData).then((response)=>alert(response.data));\n\t\t\tif (this.state.image){\n\t\t\t\tvar imageFiles = new FormData();\n\t\t\t\timageFiles.append('file', this.state.imageFile);\n\t\t\t\taxios.post(\"/upload/uploadImages\", imageFiles).then(res => { // then print response status\n\t\t\t        console.log(`Image upload for page returned: ${res.statusText}`);\n\t\t\t        axios.post(\"/upload/rebuild\",{},{}); \n\t\t\t    }).catch(err => console.log(err));\n\t\t\t}\n\t\t}\n\n\t}\n\n\trender(){\n\t\tconst create_paragraphs = this.state.paragraphs.map((paragraph, index) => \n\t\t\t\t<Paragraph key={ index } text={paragraph.text} remove={this.removeParagraph} \n\t\t\t\t\tnum={index} updateParagraph={ this.updateParagraph } removeParagraph={ this.removeParagraph }\n\t\t\t\t/>\n\t    );\n\t\tconsole.log(this.state);\n\n\t\treturn(\n\t\t\t<div className=\"pageEditor\">\n\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t<form className=\"pageForm\">\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='title'>Post Title:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='title' \n\t\t\t\t\t\t\tvalue={this.state.title} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='blurb'>Blurb:</label>\n\t\t\t\t\t\t<input type='text' className='smallPageField' name='blurb' \n\t\t\t\t\t\t\tvalue={this.state.blurb} \n\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t\t<UploadImage currentImage={this.state.image} changeImage={this.updateImage} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ create_paragraphs }\n\t\t\t\t\t<button type=\"button\" className=\"button\" onClick={this.addParagraph}> \n\t\t\t\t\t\t+ New Paragraph \n\t\t\t\t\t</button>\n\t\t\t\t\t<div className=\"editSubmitButtons\">\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.onSubmit}> Upload Post  </button>\n\t\t\t\t\t\t<button type=\"button\" className=\"editSubmitButton\" onClick={this.props.backPage}>\n\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass Paragraph extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext:this.props.text,\n\t\t}\n\t\tthis.onChange=this.onChange.bind(this);\n\t}\n\n\tonChange(event){\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t}\n\n\tupdateParagraph = (event) => {\n\t\tif(event){\n\t\t\tthis.setState({\"text\":event.target.value})\n\t\t\tthis.props.updateParagraph(this.props.num, event.target.name, event.target.value);\n\t\t} \n\t}\n\n\trender(){\n\n\t\treturn(\n\t \t\t<li className=\"blogParagraphEditing\">\n\n\t\t\t\t<div className=\"paragraphInput\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" className=\"editingInput\" value={this.state.text} placeholder=\"A new paragraph...\" \n\t\t\t\t\t\tonChange={this.updateParagraph}/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<button type=\"button\" name={this.props.num} className=\"tooltip trashButton\" \n\t\t\t\t\tonClick={index=>this.props.removeParagraph(this.props.num)}>\n\t\t\t    \t<FaTrashAlt />\n\t\t\t\t    <span className=\"tooltiptext\">Remove paragraph</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t)\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}