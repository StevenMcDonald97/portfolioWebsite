{"ast":null,"code":"import _objectSpread from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _defineProperty from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{BackButton,UploadImage}from'App/admin/helperComponents';var TextPageTemplate=/*#__PURE__*/function(_Component){_inherits(TextPageTemplate,_Component);var _super=_createSuper(TextPageTemplate);function TextPageTemplate(props){var _this;_classCallCheck(this,TextPageTemplate);_this=_super.call(this,props);_this.getPageData=function(){if(_this.props.pageId){axios.get('/api/getPage',{params:{pageId:_this.props.pageId,pageType:'text'}}).then(function(response){_this.setState({type:response.data.type,name:response.data.title,mainImage:response.data.imgUrl,description:response.data.mainText,secondaryText:response.data.subText});});}};_this.state={type:'',mainImage:'',name:'',description:'',secondaryText:''};_this.getPageData=_this.getPageData.bind(_assertThisInitialized(_this));return _this;}_createClass(TextPageTemplate,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPageData();}},{key:\"render\",value:function render(){if(this.state.type==='about'){return/*#__PURE__*/React.createElement(AboutPageTemplate,{image:this.state.mainImage,mainText:this.state.description,subText:this.state.secondaryText,createPage:this.props.createPage,backPage:this.props.backPage,pageId:this.props.pageId});}else{return/*#__PURE__*/React.createElement(OtherPageTemplate,{title:this.state.name,image:this.state.mainImage,mainText:this.state.description,createPage:this.props.createPage,backPage:this.props.backPage,pageId:this.props.pageId});}}}]);return TextPageTemplate;}(Component);var AboutPageTemplate=/*#__PURE__*/function(_Component2){_inherits(AboutPageTemplate,_Component2);var _super2=_createSuper(AboutPageTemplate);function AboutPageTemplate(props){var _this2;_classCallCheck(this,AboutPageTemplate);_this2=_super2.call(this,props);_this2.handleChange=function(event){_this2.setState(_defineProperty({},event.target.name,event.target.value));};_this2.state={type:'about',imgName:_this2.props.image,imageFile:'',title:'About the Artist',mainText:_this2.props.mainText,subText:_this2.props.subText?_this2.props.subText:\"\",createPage:_this2.props.createPage};_this2.updateImage=_this2.updateImage.bind(_assertThisInitialized(_this2));_this2.onSubmit=_this2.onSubmit.bind(_assertThisInitialized(_this2));return _this2;}_createClass(AboutPageTemplate,[{key:\"updateImage\",value:function updateImage(file,name){console.log(name);this.setState({imgName:name,imageFile:file});}},{key:\"onSubmit\",value:function onSubmit(){var _this$state=this.state,createPage=_this$state.createPage,imageFile=_this$state.imageFile,PageData=_objectWithoutProperties(_this$state,[\"createPage\",\"imageFile\"]);var imageData=new FormData();imageData.append('file',imageFile);axios.post(\"/upload/uploadImages\",imageData).then(function(res){// then print response status\nconsole.log(\"Image upload returned: \".concat(res.statusText));}).catch(function(err){return console.log(err);});if(this.state.createPage){axios.post('/upload/uploadTextPage',PageData).then(function(response){return console.log(response);});}else{axios.post('/edit/editTextPage',_objectSpread({id:this.props.pageId},PageData)).then(function(response){return console.log(response);});};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"pageEditor\"},/*#__PURE__*/React.createElement(\"form\",{className:\"pageForm\"},/*#__PURE__*/React.createElement(BackButton,{backPage:this.props.backPage}),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\"},\"Profile Picture:\"),/*#__PURE__*/React.createElement(UploadImage,{changeImage:this.updateImage})),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\",htmlFor:\"mainText\"},\"Your Artist Statement:\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"pageField\",name:\"mainText\",value:this.state.mainText,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\",htmlFor:\"subText\"},\"Your Resume (optional):\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"pageField\",name:\"subText\",value:this.state.subText,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"editSubmitButtons\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"editSubmitButton\",onClick:this.onSubmit},\" Submit \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"editSubmitButton\",onClick:this.props.backPage},\"Cancel\"))));}}]);return AboutPageTemplate;}(Component);var OtherPageTemplate=/*#__PURE__*/function(_Component3){_inherits(OtherPageTemplate,_Component3);var _super3=_createSuper(OtherPageTemplate);function OtherPageTemplate(props){var _this3;_classCallCheck(this,OtherPageTemplate);_this3=_super3.call(this,props);_this3.handleChange=function(event){_this3.setState(_defineProperty({},event.target.name,event.target.value));};_this3.state={type:'other',imgName:_this3.props.image,imageFile:'',title:_this3.props.title,mainText:_this3.props.mainText,createPage:_this3.props.createPage};_this3.updateImage=_this3.updateImage.bind(_assertThisInitialized(_this3));_this3.onSubmit=_this3.onSubmit.bind(_assertThisInitialized(_this3));return _this3;}_createClass(OtherPageTemplate,[{key:\"updateImage\",value:function updateImage(file,name){this.setState({imgName:name,imageFile:file});}},{key:\"onSubmit\",value:function onSubmit(){var _this$state2=this.state,createPage=_this$state2.createPage,imageFile=_this$state2.imageFile,PageData=_objectWithoutProperties(_this$state2,[\"createPage\",\"imageFile\"]);var imageData=new FormData();imageData.append('file',imageFile);axios.post(\"/upload/uploadSingleImage\",imageData).then(function(res){// then print response status\nconsole.log(\"Image upload returned: \".concat(res.statusText));}).catch(function(err){return console.log(err);});if(this.state.createPage){axios.post('/upload/uploadTextPage',PageData).then(function(response){return console.log(response);});}else{axios.post('/edit/editTextPage',_objectSpread({id:this.props.pageId},PageData)).then(function(response){return console.log(response);});};}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"pageEditor\"},/*#__PURE__*/React.createElement(BackButton,{backPage:this.props.backPage}),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\",htmlFor:\"pageImage\"},\"Main Image (optional):\"),/*#__PURE__*/React.createElement(UploadImage,{changeImage:this.updateImage})),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\",htmlFor:\"title\"},\"Page Title:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"smallPageField\",name:\"title\",value:this.state.title,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"inputGroup\"},/*#__PURE__*/React.createElement(\"label\",{className:\"inputLabel\",htmlFor:\"mainText\"},\"Page Description:\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"pageField\",name:\"mainText\",value:this.state.mainText,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"editSubmitButtons\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"editSubmitButton\",onClick:this.onSubmit},\" Create \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"editSubmitButton\",onClick:this.props.backPage},\" Cancel \")));}}]);return OtherPageTemplate;}(Component);export{TextPageTemplate,AboutPageTemplate,OtherPageTemplate};","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/textPageTemplate.js"],"names":["React","Component","axios","BackButton","UploadImage","TextPageTemplate","props","getPageData","pageId","get","params","pageType","then","response","setState","type","data","name","title","mainImage","imgUrl","description","mainText","secondaryText","subText","state","bind","createPage","backPage","AboutPageTemplate","handleChange","event","target","value","imgName","image","imageFile","updateImage","onSubmit","file","console","log","PageData","imageData","FormData","append","post","res","statusText","catch","err","id","OtherPageTemplate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage } from 'App/admin/helperComponents';\nimport PropTypes from 'prop-types';\n\nclass TextPageTemplate extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttype:'',\n\t\t\tmainImage:'',\n\t\t\tname:'',\n\t\t\tdescription:'',\n\t\t\tsecondaryText:''\n\t\t}\n\t\tthis.getPageData=this.getPageData.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getPageData();\n\t}\n\n    getPageData = () =>{\n\n    \tif (this.props.pageId){\n\t        axios.get('/api/getPage', { params: {pageId: this.props.pageId, pageType:'text' } })\n\t        .then((response) => {\n\n\t          this.setState({\n\t          \ttype:response.data.type,\n\t            name:response.data.title, \n\t            mainImage:response.data.imgUrl, \n\t            description:response.data.mainText, \n\t            secondaryText:response.data.subText, \n\t            });\n\t        });\n\t    }\n    }\n\n\n\trender() {\n\t\tif (this.state.type==='about'){\n\t\t\treturn(<AboutPageTemplate \n\t\t\t\timage={this.state.mainImage}\n\t\t\t\tmainText={this.state.description}\n\t\t\t\tsubText={this.state.secondaryText}\n\t\t\t\tcreatePage={this.props.createPage}\n\t\t\t\tbackPage={this.props.backPage}\n\t\t\t\tpageId={this.props.pageId}\n\t\t\t\t/>)\n\t\t} else {\n\t\t\treturn(<OtherPageTemplate \n\t\t\t\ttitle={this.state.name}\n\t\t\t\timage={this.state.mainImage}\n\t\t\t\tmainText={this.state.description}\n\t\t\t\tcreatePage={this.props.createPage}\n\t\t\t\tbackPage={this.props.backPage}\n\t\t\t\tpageId={this.props.pageId}\n\t\t\t\t/>)\n\t\t}\n\t}\n}\n\nTextPageTemplate.propTypes ={\n\tpageId:PropTypes.string,\n\tcreatePage:PropTypes.bool,\n\tbackPage:PropTypes.func\n}\n\n\nclass AboutPageTemplate extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttype:'about',\n\t\t\timgName:this.props.image,\n\t\t\timageFile:'',\n\t\t\ttitle:'About the Artist',\n\t\t\tmainText:this.props.mainText,\n\t\t\tsubText:(this.props.subText ? this.props.subText : \"\"),\n\t\t\tcreatePage:this.props.createPage\n\t\t}\n\t\tthis.updateImage=this.updateImage.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t}\n\n\tupdateImage(file, name){\n\t\tconsole.log(name);\n\t\tthis.setState({imgName:name, imageFile:file})\n\t}\n\n\tonSubmit(){\n\t\tconst {createPage, imageFile, ...PageData} = this.state;\n\t    const imageData = new FormData();\n\t    imageData.append('file', imageFile);\n\t    axios.post(\"/upload/uploadImages\", imageData).then(res => { // then print response status\n\t        console.log(`Image upload returned: ${res.statusText}`)\n\t    }).catch(err => console.log(err));\n\n\t\tif (this.state.createPage) { \n\t\t\taxios.post('/upload/uploadTextPage', PageData).then((response)=>console.log(response))\n\t\t} else {\n\t\t\taxios.post('/edit/editTextPage', {id:this.props.pageId, ...PageData}).then((response)=>console.log(response))\n\t\t};\t\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className='pageEditor'>\n\t\t\t\t<form className='pageForm'>\n\t\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel'>Profile Picture:</label>\n\t\t\t\t\t\t<UploadImage changeImage={this.updateImage} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='mainText'>Your Artist Statement:</label>\n\t\t\t\t\t\t<textarea className='pageField' name='mainText' \n\t\t\t\t\t\t\tvalue={this.state.mainText} \n\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t<label className='inputLabel' htmlFor='subText'>Your Resume (optional):</label>\n\t\t\t\t\t\t<textarea className='pageField' name='subText' \n\t\t\t\t\t\t\tvalue={this.state.subText} \n\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='editSubmitButtons'>\n\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.onSubmit}> Submit </button>\n\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.props.backPage}> \n\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAboutPageTemplate.propTypes={\n\timage:PropTypes.string,\n\tmainText:PropTypes.string,\n\tsubText:PropTypes.string,\n\tpageId:PropTypes.string,\n\tcreatePage:PropTypes.bool,\n\tbackPage:PropTypes.func\n}\n\nclass OtherPageTemplate extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttype:'other',\n\t\t\timgName:this.props.image,\n\t\t\timageFile:'',\n\t\t\ttitle:this.props.title,\n\t\t\tmainText:this.props.mainText,\n\t\t\tcreatePage:this.props.createPage\n\n\t\t}\n\t\tthis.updateImage=this.updateImage.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t}\n\n\tupdateImage(file, name){\n\t\tthis.setState({imgName:name, imageFile:file})\n\t}\n\n\tonSubmit(){\n\t\tconst {createPage, imageFile, ...PageData} = this.state;\n\t    const imageData = new FormData();\n\t    imageData.append('file', imageFile);\n\t    axios.post(\"/upload/uploadSingleImage\", imageData).then(res => { // then print response status\n\t        console.log(`Image upload returned: ${res.statusText}`)\n\t    }).catch(err => console.log(err));\n\n\t\tif (this.state.createPage) { \n\t\t\taxios.post('/upload/uploadTextPage', PageData).then((response)=>console.log(response))\n\t\t} else {\n\t\t\taxios.post('/edit/editTextPage', {id:this.props.pageId, ...PageData}).then((response)=>console.log(response))\n\t\t};\t\n\t}\n\n\trender(){\n\t\treturn(\n\t\t<div className='pageEditor'>\n\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t<div className='inputGroup'>\n\t\t\t\t<label className='inputLabel' htmlFor='pageImage'>Main Image (optional):</label>\n\t\t\t\t<UploadImage changeImage={this.updateImage} />\n\t\t\t</div>\n\t\t\t<div className='inputGroup'>\n\t\t\t\t<label className='inputLabel' htmlFor='title'>Page Title:</label>\n\t\t\t\t<input type='text' className='smallPageField' name='title' \n\t\t\t\t\tvalue={this.state.title} \n\t\t\t\t\tonChange={this.handleChange}/>\n\t\t\t</div>\n\t\t\t<div className='inputGroup'>\n\t\t\t\t<label className='inputLabel' htmlFor='mainText'>Page Description:</label>\n\t\t\t\t<textarea className='pageField' name='mainText' \n\t\t\t\t\tvalue={this.state.mainText} \n\t\t\t\t\tonChange={this.handleChange}/>\n\t\t\t</div>\n\t\t\t<div className='editSubmitButtons'>\n\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.onSubmit}> Create </button>\n\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.props.backPage}> Cancel </button>\n\t\t\t</div>\n\t\t</div>)\n\t}\n}\n\nOtherPageTemplate.propTypes={\n\timage:PropTypes.string,\n\ttitle:PropTypes.string,\n\tmainText:PropTypes.string,\n\tpageId:PropTypes.string,\n\tcreatePage:PropTypes.bool,\n\tbackPage:PropTypes.func\n}\n\n\nexport { TextPageTemplate, AboutPageTemplate, OtherPageTemplate };\n\n"]},"metadata":{},"sourceType":"module"}