{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editLayout.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton } from 'src/App/admin/helperComponents';\nimport { FaSortUp, FaSortDown, FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nconst layoutJson = require('src/App/layout.json');\n\nexport default class EditLayout extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      menuStyle: layoutJson.menuStyle,\n      headerAlignment: layoutJson.headerAlignment,\n      portfolioStyle: layoutJson.portfolioStyle,\n      pages: [],\n      deletedLinks: [],\n      parentLinks: [],\n      numberOfLinks: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.addLink = this.addLink.bind(this);\n    this.removeLink = this.removeLink.bind(this);\n    this.changePageState = this.changePageState.bind(this);\n    this.changeLinkOrder = this.changeLinkOrder.bind(this);\n    this.returnToUserPanel = this.returnToUserPanel.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  } // need to load a sorted array of page links\n\n\n  componentDidMount() {\n    axios.get('/api/getPageInfo').then(response => {\n      let parentLinks = [];\n      response.data.forEach(page => {\n        if (page.type === \"parent\") {\n          parentLinks.push(page.title);\n        }\n      });\n      let orderedPages = response.data.sort(function (page1, page2) {\n        var key1 = page1.index,\n            key2 = page2.index; // Compare the 2 dates\n\n        if (key1 < key2) return -1;\n        if (key1 > key2) return 1;\n        return 0;\n      });\n      console.log(orderedPages);\n      this.setState({\n        pages: orderedPages,\n        numberOfLinks: orderedPages.length,\n        parentLinks: parentLinks\n      });\n    });\n  }\n\n  createNewLink() {\n    let values = [...this.state.pages];\n    values.push({\n      title: `Link ${this.state.numberOfLinks}`,\n      type: \"parent\",\n      visible: true,\n      children: [],\n      index: this.state.numberOfLinks\n    });\n    this.setState({\n      pages: values,\n      numberOfLinks: this.state.numberOfLinks + 1\n    });\n  }\n\n  addLink(title, children) {\n    let values = [...this.state.pages];\n    let newLink = {\n      title: title,\n      type: \"parent\",\n      visibility: true,\n      children: children,\n      index: this.state.numberOfLinks\n    };\n    values.push(newLink);\n    children.forEach(childId => {\n      for (let i = 0; i < values.length; i++) {\n        if (values[i]._id === childId) {\n          values[i].parent = title;\n        }\n      }\n    });\n    let parentValues = [...this.state.parentLinks];\n    parentValues.push(newLink.title);\n    this.setState({\n      pages: values,\n      numberOfLinks: this.state.numberOfLinks + 1,\n      parentLinks: parentValues\n    });\n  }\n\n  removeLink(index) {\n    let values = [...this.state.pages];\n    let parentValues = [...this.state.parentLinks];\n    let title = values[index].title;\n\n    if (values[index]._id) {\n      let deleted = [...this.state.deletedLinks];\n      deleted.push(values[index]._id);\n      this.setState({\n        deletedLinks: deleted\n      });\n    }\n\n    for (let i = 0; i < values.length; i++) {\n      values[i].index = values[i].index - 1;\n      if (values[i].parent === title) values[i].parent = null;\n    }\n\n    values.splice(index, 1);\n    let parentIndex = parentValues.indexOf(this.state.pages[index].title);\n    parentValues.splice(parentIndex, 1);\n    this.setState({\n      pages: values,\n      parentLinks: parentValues,\n      numberOfLinks: this.state.numberOfLinks - 1\n    });\n  }\n\n  changePageState(index, key, value) {\n    let values = [...this.state.pages];\n    values[index][key] = value;\n    this.setState({\n      pages: values\n    });\n  }\n\n  changeLinkOrder(direction, index) {\n    var newPages = [...this.state.pages];\n\n    if (direction === \"up\" && index > 0) {\n      newPages[index].index = index - 1;\n      newPages[index - 1].index = index;\n    } else if (direction === \"down\" && index < this.state.pages.length - 1) {\n      newPages[index].index = index + 1;\n      newPages[index + 1].index = index;\n    }\n\n    newPages.sort(function (page1, page2) {\n      var key1 = page1.index,\n          key2 = page2.index; // Compare the 2 dates\n\n      if (key1 < key2) return -1;\n      if (key1 > key2) return 1;\n      return 0;\n    });\n    this.setState({\n      pages: newPages\n    });\n  }\n\n  returnToUserPanel() {\n    this.props.history.push('/userPanel');\n  }\n\n  onSubmit() {\n    let children = {};\n\n    if (this.state.pages) {\n      this.state.pages.forEach(page => {\n        if (page.parent) {\n          children[page.parent] ? children[page.parent].push(page._id) : children[page.parent] = [page._id];\n        }\n      });\n    }\n\n    console.log(this);\n    const LinkData = {\n      \"headerAlignment\": this.state.headerAlignment,\n      \"menuStyle\": this.state.menuStyle,\n      \"portfolioStyle\": this.state.portfolioStyle,\n      \"pages\": this.state.pages,\n      \"children\": children\n    };\n    axios.post(\"/remove/removeLinks\", this.state.deletedLinks).then(response => alert(response.data));\n    axios.post(\"/edit/updateLinks\", LinkData).then(response => alert(\"Link updating returned:\" + response.data));\n  }\n\n  render() {\n    const createLinks = this.state.pages.map(page => /*#__PURE__*/React.createElement(\"li\", {\n      key: page.title,\n      className: \"linkEditingContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(LinkEditingObject, {\n      index: page.index,\n      visibility: page.visibility,\n      title: page.title,\n      type: page.type,\n      parent: page.parent,\n      allParentLinks: this.state.parentLinks,\n      changeParentState: this.changePageState,\n      changeOrder: this.changeLinkOrder,\n      removeLink: this.removeLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 58\n      }\n    })));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageEditor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(BackButton, {\n      backPage: this.returnToUserPanel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel home\",\n      htmlFor: \"menuStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 6\n      }\n    }, \"Choose your navigation style:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"menuStyle\",\n      className: \"homePageSelect\",\n      value: this.state.menuStyle,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, \"Top Bar\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, \"Dropdown Menu\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }\n    }, \"Sidebar Menu\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel home\",\n      htmlFor: \"headerAlignment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }\n    }, \"Choose your website title orientation:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"headerAlignment\",\n      className: \"homePageSelect\",\n      value: this.state.headerAlignment,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }\n    }, \"Left\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }\n    }, \"Center\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }, \"Right\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel home\",\n      htmlFor: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }, \"Choose your portfolio style:\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"portfolioStyle\",\n      className: \"homePageSelect\",\n      value: this.state.portfolioStyle,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }, \"Grid\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, \"List\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 6\n      }\n    }, \"You can edit the visibility and order of your menu links below\"), createLinks), this.state.pages.length > 0 ? /*#__PURE__*/React.createElement(ParentLinkObject, {\n      pages: this.state.pages,\n      addLink: this.addLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 6\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 6\n      }\n    }, \"Loading link adder...\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"layoutSubmitButtons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"layoutSubmitButton\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 6\n      }\n    }, \"Submit Changes\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"layoutSubmitButton\",\n      onClick: this.returnToUserPanel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }\n    }, \"Cancel\")));\n  }\n\n} // represents a conntainer with all the fields for editing a link\n\nclass LinkEditingObject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      this.props.changeParentState(this.props.index, event.target.name, event.target.value);\n    };\n\n    this.state = {\n      visibility: this.props.visibility,\n      parent: this.props.parent\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.incrementLinkOrder = this.incrementLinkOrder.bind(this);\n    this.decrementLinkOrder = this.decrementLinkOrder.bind(this);\n    this.removeLink = this.removeLink.bind(this);\n  }\n\n  decrementLinkOrder() {\n    this.props.changeOrder(\"up\", this.props.index);\n  }\n\n  incrementLinkOrder() {\n    this.props.changeOrder(\"down\", this.props.index);\n  }\n\n  removeLink() {\n    this.props.removeLink(this.props.index);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditingField\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 5\n      }\n    }, \" \", this.props.title, \" \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"visibility\",\n      className: \"homePageSelect linkEditingField\",\n      value: this.state.visibility,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 6\n      }\n    }, \"Visible\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 6\n      }\n    }, \"Not Visible\")), this.props.allParentLinks ? /*#__PURE__*/React.createElement(\"select\", {\n      name: \"parent\",\n      className: \"homePageSelect linkEditingField\",\n      value: this.state.parent ? this.state.parent : \"none\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 7\n      }\n    }, \"None\"), this.props.allParentLinks.map(link => /*#__PURE__*/React.createElement(\"option\", {\n      key: link,\n      value: link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 8\n      }\n    }, link))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"linkEditingField linkOrderArrows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upArrow\",\n      name: \"up\",\n      onClick: this.decrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortUp, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 75\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"downArrow\",\n      name: \"down\",\n      onClick: this.incrementLinkOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaSortDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 79\n      }\n    }))), this.props.type === \"parent\" ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"linkEditingField tooltip trashButton\",\n      onClick: this.removeLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 10\n      }\n    }, \"Remove this Link\")) : null);\n  }\n\n} // class for creating a parent link and giving it children. When children are added to its children list\n// the respective children have their parent fields changed\n// first create link, then when they click \"create\" add it to the list \n\n\nclass ParentLinkObject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      if (event) {\n        this.setState({\n          [event.target.name]: event.target.value\n        });\n      }\n    };\n\n    this.handleCheckboxChange = event => {\n      const {\n        name\n      } = event.target;\n      this.setState(prevState => ({\n        checkboxes: { ...prevState.checkboxes,\n          [name]: !prevState.checkboxes[name]\n        }\n      }));\n    };\n\n    this.createCheckbox = page => {\n      if (page.type !== \"parent\") {\n        return /*#__PURE__*/React.createElement(Checkbox, {\n          key: page._id,\n          label: page.title,\n          name: page._id,\n          isSelected: this.state.checkboxes[page._id],\n          onCheckboxChange: this.handleCheckboxChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 5\n          }\n        });\n      }\n\n      return null;\n    };\n\n    this.createCheckboxes = () => this.props.pages.map(this.createCheckbox);\n\n    this.state = {\n      title: \"\",\n      checkboxes: props.pages.reduce((pages, page) => ({ ...pages,\n        [page._id]: false\n      }), {})\n    };\n    this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.createCheckbox = this.createCheckbox.bind(this);\n    this.createCheckboxes = this.createCheckboxes.bind(this);\n    this.addLink = this.addLink.bind(this);\n    this.clear = this.clear.bind(this);\n  }\n\n  addLink() {\n    if (this.state.title !== \"\") {\n      let children = Object.keys(this.state.checkboxes).filter(key => this.state.checkboxes[key]);\n      this.props.addLink(this.state.title, children);\n      this.clear();\n    }\n  }\n\n  clear() {\n    let clearedCheckBoxes = this.state.checkboxes;\n    Object.keys(clearedCheckBoxes).forEach(key => clearedCheckBoxes[key] = false);\n    this.setState({\n      title: \"\",\n      checkboxes: clearedCheckBoxes\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"parentLinkContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 5\n      }\n    }, \" Create a New Parent Link \"), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 5\n      }\n    }, \" (For example if you want several portfolios to drop down under one link) \"), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 5\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"smallPageField\",\n      name: \"title\",\n      value: this.state.title,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"inputLabel\",\n      htmlFor: \"children\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 5\n      }\n    }, \"Choose children pages:\"), /*#__PURE__*/React.createElement(\"div\", {\n      name: \"children\",\n      className: \"childLinkSelection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 5\n      }\n    }, this.createCheckboxes()), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"layoutSubmitButton\",\n      onClick: this.addLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 5\n      }\n    }, \"Add Link\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"layoutSubmitButton\",\n      onClick: this.clear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 5\n      }\n    }, \"Cancel\"));\n  }\n\n} // <div className=\"linkOrderArrows\">\n// \t<div className=\"upArrow\" name=\"up\" onClick={this.decrementLinkOrder}><FaSortUp/></div>\n// \t<div className=\"downArrow\" name=\"down\" onClick={this.incrementLinkOrder}><FaSortDown/></div>\n// </div>\n// <button type=\"button\" className=\"tooltip trashButton\" \n// \tonClick={this.removeLink}>\n//    \t<FaTrashAlt />\n//     <span className=\"tooltiptext\">Remove this Link</span>\n// </button>\n// <button type=\"button\" className=\"tooltip\" \n// \tonClick={this.decrementLinkOrder}>\n//    \t<FaSortUp/>\n//     <span className=\"tooltiptext\">Move link up</span>\n// </button>\n// <button type=\"button\" className=\"tooltip trashButton\" \n// \tonClick={this.incrementLinkOrder}>\n//    \t<FaSortDown/>\n//     <span className=\"tooltiptext\">Move link up</span>\n// </button>\n// taken from: http://react.tips/checkboxes-in-react-16/\n\n\nconst Checkbox = ({\n  label,\n  name,\n  isSelected,\n  onCheckboxChange\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"childLinkCheckbox\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 407,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"label\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"input\", {\n  type: \"checkbox\",\n  name: name,\n  checked: isSelected,\n  onChange: onCheckboxChange,\n  className: \"form-check-input\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 7\n  }\n}), label));","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editLayout.js"],"names":["React","Component","axios","BackButton","FaSortUp","FaSortDown","FaTrashAlt","layoutJson","require","EditLayout","constructor","props","handleChange","event","setState","target","name","value","state","menuStyle","headerAlignment","portfolioStyle","pages","deletedLinks","parentLinks","numberOfLinks","bind","addLink","removeLink","changePageState","changeLinkOrder","returnToUserPanel","onSubmit","componentDidMount","get","then","response","data","forEach","page","type","push","title","orderedPages","sort","page1","page2","key1","index","key2","console","log","length","createNewLink","values","visible","children","newLink","visibility","childId","i","_id","parent","parentValues","deleted","splice","parentIndex","indexOf","key","direction","newPages","history","LinkData","post","alert","render","createLinks","map","LinkEditingObject","changeParentState","incrementLinkOrder","decrementLinkOrder","changeOrder","allParentLinks","link","ParentLinkObject","handleCheckboxChange","prevState","checkboxes","createCheckbox","createCheckboxes","reduce","clear","Object","keys","filter","clearedCheckBoxes","Checkbox","label","isSelected","onCheckboxChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton } from 'src/App/admin/helperComponents';\nimport { FaSortUp, FaSortDown, FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nconst layoutJson = require('src/App/layout.json');\n\nexport default class EditLayout extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\tmenuStyle:layoutJson.menuStyle,\n\t\t\theaderAlignment:layoutJson.headerAlignment,\n\t\t\tportfolioStyle:layoutJson.portfolioStyle,\n\t\t\tpages:[],\n\t\t\tdeletedLinks:[],\n\t\t\tparentLinks:[],\n\t\t\tnumberOfLinks:0\n\t\t}\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.addLink=this.addLink.bind(this);\n\t\tthis.removeLink=this.removeLink.bind(this);\n\t\tthis.changePageState=this.changePageState.bind(this);\n\t\tthis.changeLinkOrder=this.changeLinkOrder.bind(this);\n    \tthis.returnToUserPanel=this.returnToUserPanel.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\t// need to load a sorted array of page links\n\tcomponentDidMount(){\n\t\taxios.get('/api/getPageInfo').then((response) => {\n\t\t\tlet parentLinks=[];\n\t\t\tresponse.data.forEach((page)=>{\n\t\t\t\tif (page.type===\"parent\"){\n\t\t\t\t\tparentLinks.push(page.title);\n\t\t\t\t}\n\t\t\t});\n\n\t    \tlet orderedPages=(response.data).sort(function(page1, page2) {\n\t\t\t  var key1 = (page1.index),\n\t\t\t    key2 = (page2.index);\n\t\t\t  // Compare the 2 dates\n\t\t\t  if (key1 < key2) return -1;\n\t\t\t  if (key1 > key2) return 1;\n\t\t\t  return 0;\n\t\t\t});\n\t\t\tconsole.log(orderedPages);\n\t\t\tthis.setState({pages:orderedPages, numberOfLinks:orderedPages.length, parentLinks:parentLinks});\n\t\t});\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t}\n\n\tcreateNewLink(){\n\t\tlet values = [...this.state.pages];\n\t\tvalues.push({title: `Link ${this.state.numberOfLinks}`, type:\"parent\", visible:true, children:[], index:this.state.numberOfLinks});\n\t\tthis.setState({pages:values, numberOfLinks:this.state.numberOfLinks+1});\n\t}\n\n\taddLink(title, children){\n\t\tlet values = [...this.state.pages];\n\t\tlet newLink={title: title, type:\"parent\", visibility:true, children:children, index:this.state.numberOfLinks};\n\t\tvalues.push(newLink);\n\t\tchildren.forEach((childId)=>{\n\t\t\tfor (let i=0; i<values.length; i++){\n\t\t\t\tif (values[i]._id===childId){\n\t\t\t\t\tvalues[i].parent=title;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tlet parentValues=[...this.state.parentLinks];\n\t\tparentValues.push(newLink.title);\n\t\tthis.setState({pages:values, numberOfLinks:this.state.numberOfLinks+1, parentLinks:parentValues});\n\t}\n\n\tremoveLink(index){\n\t\tlet values = [...this.state.pages];\n\t\tlet parentValues=[...this.state.parentLinks];\n\t\tlet title = values[index].title;\n\n\t\tif(values[index]._id){\n\t\t\tlet deleted =[...this.state.deletedLinks];\n\t\t\tdeleted.push(values[index]._id);\n\t\t\tthis.setState({deletedLinks:deleted});\n\t\t}\n\t\tfor (let i=0; i<values.length;i++){\n\t\t\tvalues[i].index=values[i].index-1;\n\t\t\tif (values[i].parent===title) values[i].parent=null;\n\t\t}\n\t\tvalues.splice(index, 1);\n\t\tlet parentIndex=parentValues.indexOf(this.state.pages[index].title)\n\t\tparentValues.splice(parentIndex, 1);\n\t\tthis.setState({pages:values, parentLinks:parentValues, numberOfLinks:this.state.numberOfLinks-1});\n\t}\n\n\tchangePageState(index, key, value){\n\t\tlet values = [...this.state.pages];\n\t\tvalues[index][key]=value;\n\t\tthis.setState({pages:values});\n\t}\n\n\n\tchangeLinkOrder(direction, index){\n\t\tvar newPages = [...this.state.pages];\n\t\tif (direction===\"up\" && index>0){\n\t\t\tnewPages[index].index = index-1;\n\t\t\tnewPages[index-1].index = index;\n\t\t} else if (direction===\"down\" && index<(this.state.pages).length-1){\n\t\t\tnewPages[index].index = index+1;\n\t\t\tnewPages[index+1].index = index;\n\t\t} \n\t\t(newPages).sort(function(page1, page2) {\n\t\t  var key1 = (page1.index),\n\t\t    key2 = (page2.index);\n\t\t  // Compare the 2 dates\n\t\t  if (key1 < key2) return -1;\n\t\t  if (key1 > key2) return 1;\n\t\t  return 0;\n\t\t});\n\t\tthis.setState({pages:newPages});\n\t}\n\n\treturnToUserPanel(){\n        this.props.history.push('/userPanel');\n    }\n\n    onSubmit(){\n\n    \tlet children = {};\n    \tif (this.state.pages){\n\t    \t(this.state.pages).forEach((page)=>{\n\t    \t\tif (page.parent){\n\t    \t\t\tchildren[page.parent] ? children[page.parent].push(page._id) : children[page.parent]=[ page._id ]\n\t    \t\t}\n\t    \t});\n    \t}\n    \tconsole.log(this)\n    \tconst LinkData={\"headerAlignment\":this.state.headerAlignment, \"menuStyle\":this.state.menuStyle, \"portfolioStyle\":this.state.portfolioStyle, \"pages\":this.state.pages, \"children\":children};\n    \taxios.post(\"/remove/removeLinks\", this.state.deletedLinks).then((response)=>alert(response.data));\n    \taxios.post(\"/edit/updateLinks\", LinkData).then((response)=>alert(\"Link updating returned:\"+response.data))\n    }\n\n\trender(){\n\t\tconst createLinks = (this.state.pages).map((page)=>\n\t\t\t<li key={page.title} className=\"linkEditingContainer\"><LinkEditingObject index={page.index} visibility={page.visibility} title={page.title} type={page.type} parent={page.parent} allParentLinks={this.state.parentLinks} changeParentState={this.changePageState} changeOrder={this.changeLinkOrder} removeLink={this.removeLink}/></li>\n\t\t);\n\n\t\treturn(\n\t\t\t<div className=\"pageEditor\">\n\t\t\t\t<BackButton backPage={this.returnToUserPanel}/>\n\t\t\t\t<div className=\"linkEditing\">\n\t\t\t\t\t<label className='inputLabel home' htmlFor='menuStyle'>Choose your navigation style:</label>\n\t\t\t\t\t<select name='menuStyle' className='homePageSelect' value={this.state.menuStyle} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value='top'>Top Bar</option>\n\t\t\t\t\t\t<option value='dropdown'>Dropdown Menu</option>\n\t\t\t\t\t\t<option value='sidebar'>Sidebar Menu</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"linkEditing\">\n\t\t\t\t\t<label className='inputLabel home' htmlFor='headerAlignment'>Choose your website title orientation:</label>\n\t\t\t\t\t<select name='headerAlignment' className='homePageSelect' value={this.state.headerAlignment} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value='left'>Left</option>\n\t\t\t\t\t\t<option value='center'>Center</option>\n\t\t\t\t\t\t<option value='right'>Right</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"linkEditing\">\n\t\t\t\t\t<label className='inputLabel home' htmlFor='type'>Choose your portfolio style:</label>\n\t\t\t\t\t<select name='portfolioStyle' className='homePageSelect' value={this.state.portfolioStyle} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value='grid'>Grid</option>\n\t\t\t\t\t\t<option value='list'>List</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<div className=\"linkEditing\">\n\t\t\t\t\t<h3>You can edit the visibility and order of your menu links below</h3>\n\t\t\t\t\t{ createLinks }\n\t\t\t\t</div>\n\n\n\t\t\t\t{(this.state.pages).length>0 ? \n\t\t\t\t\t<ParentLinkObject pages={this.state.pages} addLink={this.addLink}/> :\n\t\t\t\t\t<span>Loading link adder...</span>\n\t\t\t\t}\n\n\t\t\t\t<div className=\"layoutSubmitButtons\">\n\t\t\t\t\t<button type=\"button\" className=\"layoutSubmitButton\" \n\t\t\t\t\t\tonClick={this.onSubmit}>\n\t\t\t\t    \tSubmit Changes\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" className=\"layoutSubmitButton\" \n\t\t\t\t\t\tonClick={this.returnToUserPanel}>\n\t\t\t\t    \tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\n\t\t\t</div>\n\n\t\t)\n\t}\n}\n\n\n\n// represents a conntainer with all the fields for editing a link\nclass LinkEditingObject extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\tvisibility:this.props.visibility,\n\t\t\tparent:this.props.parent\n\t\t}\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.incrementLinkOrder=this.incrementLinkOrder.bind(this);\n\t\tthis.decrementLinkOrder=this.decrementLinkOrder.bind(this);\n\t\tthis.removeLink=this.removeLink.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value});\n\t\tthis.props.changeParentState(this.props.index, event.target.name, event.target.value);\n\t}\n\n\tdecrementLinkOrder(){\n\t\tthis.props.changeOrder(\"up\", this.props.index)\n\t}\n\n\tincrementLinkOrder(){\n\t\tthis.props.changeOrder(\"down\", this.props.index)\n\t}\n\n\tremoveLink(){\n\t\tthis.props.removeLink(this.props.index);\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<div className='linkEditingField'> {this.props.title} </div>\n\t\t\t\t<select name='visibility' className='homePageSelect linkEditingField' value={this.state.visibility} onChange={this.handleChange}>\n\t\t\t\t\t<option value={true}>Visible</option>\n\t\t\t\t\t<option value={false}>Not Visible</option>\n\t\t\t\t</select>\n\t\t\t\t{\n\t\t\t\t\tthis.props.allParentLinks ?  \n\t\t\t\t\t<select name='parent' className='homePageSelect linkEditingField' value={this.state.parent ? this.state.parent : \"none\"} onChange={this.handleChange}>\n\t\t\t\t\t\t<option value={\"\"}>None</option>\n\t\t\t\t\t\t{ this.props.allParentLinks.map((link)=>\n\t\t\t\t\t\t\t<option key={link} value={link}>{link}</option>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</select> : null\n\t\t\t\t}\n\t\t\t\t<div className=\"linkEditingField linkOrderArrows\">\n\t\t\t\t\t<div className=\"upArrow\" name=\"up\" onClick={this.decrementLinkOrder}><FaSortUp/></div>\n\t\t\t\t\t<div className=\"downArrow\" name=\"down\" onClick={this.incrementLinkOrder}><FaSortDown/></div>\n\t\t\t\t</div>\n\t\t\t\t{ this.props.type===\"parent\" ? \n\t\t\t\t\t<button type=\"button\" className=\"linkEditingField tooltip trashButton\" \n\t\t\t\t\t\tonClick={this.removeLink}>\n\t\t\t\t    \t<FaTrashAlt />\n\t\t\t\t\t    <span className=\"tooltiptext\">Remove this Link</span>\n\t\t\t\t\t</button> : null\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\n\n\n// class for creating a parent link and giving it children. When children are added to its children list\n// the respective children have their parent fields changed\n\n\n// first create link, then when they click \"create\" add it to the list \nclass ParentLinkObject extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttitle:\"\",\n\t\t\tcheckboxes: (props.pages).reduce(\n\t\t      (pages, page) => ({\n\t\t        ...pages,\n\t\t        [page._id]: false\n\t\t      }),\n\t\t      {}\n\t\t    )\n\t\t}\n\n\t\tthis.handleCheckboxChange=this.handleCheckboxChange.bind(this);\n\t\tthis.handleChange=this.handleChange.bind(this);\n\t\tthis.createCheckbox=this.createCheckbox.bind(this);\n\t\tthis.createCheckboxes=this.createCheckboxes.bind(this);\t\n\t\tthis.addLink=this.addLink.bind(this);\n\t\tthis.clear=this.clear.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tif (event){\n\t\t\tthis.setState({[event.target.name]:event.target.value})\n\t\t}\n\t}\n\n\thandleCheckboxChange = event => {\n\t    const { name } = event.target;\n\n\t    this.setState(prevState => ({\n\t      checkboxes: {\n\t        ...prevState.checkboxes,\n\t        [name]: !prevState.checkboxes[name]\n\t      }\n\t    }));\n\t};\n\n\tcreateCheckbox = page =>{ \n\t\tif (page.type!==\"parent\"){\n\t\t\treturn (\n\t\t\t\t<Checkbox\n\t\t\t\t  key={page._id}\n\t\t\t\t  label={page.title}\n\t\t\t\t  name={page._id}\n\t\t\t\t  isSelected={this.state.checkboxes[page._id]}\n\t\t\t\t  onCheckboxChange={this.handleCheckboxChange}\n\t\t\t\t/>\n\t\t\t);\t\t\n\t\t} \n\t\treturn null;\n\n\t}\n\n\tcreateCheckboxes = () => (this.props.pages).map(this.createCheckbox);\n\n\n\taddLink(){\n\t\tif (this.state.title!==\"\"){\n\t\t\tlet children = Object.keys(this.state.checkboxes).filter(key => this.state.checkboxes[key])\n\t\t\tthis.props.addLink(this.state.title, children);\n\t\t\tthis.clear();\t\n\t\t}\n\t}\n\n\tclear(){\n\t\tlet clearedCheckBoxes=this.state.checkboxes;\n\t\tObject.keys(clearedCheckBoxes).forEach((key)=>clearedCheckBoxes[key]=false)\n\n\t\tthis.setState({\t\t\t\n\t\t\ttitle: \"\",\n\t\t\tcheckboxes: clearedCheckBoxes\n\t\t});\n\t};\n\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"parentLinkContainer\">\n\t\t\t\t<h3> Create a New Parent Link </h3>\n\t\t\t\t<h5> (For example if you want several portfolios to drop down under one link) </h5>\n\t\t\t\t<label className='inputLabel' htmlFor=\"title\">Title:</label>\n\t\t\t\t<input type='text' className='smallPageField' name=\"title\" value={this.state.title} onChange={this.handleChange}/>\n\t\t\t\t<label className='inputLabel' htmlFor=\"children\">Choose children pages:</label>\n\t\t\t\t<div name=\"children\" className=\"childLinkSelection\">\n\t\t\t\t\t{ this.createCheckboxes() }\n\t\t\t\t</div>\n\t\t\t\t<button type=\"button\" className=\"layoutSubmitButton\" \n\t\t\t\t\tonClick={this.addLink}>\n\t\t\t    \tAdd Link\n\t\t\t\t</button>\n\t\t\t\t<button type=\"button\" className=\"layoutSubmitButton\" \n\t\t\t\t\tonClick={this.clear}>\n\t\t\t    \tCancel\n\t\t\t\t</button>\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n\n\n}\n\n\t\t\t\t// <div className=\"linkOrderArrows\">\n\t\t\t\t// \t<div className=\"upArrow\" name=\"up\" onClick={this.decrementLinkOrder}><FaSortUp/></div>\n\t\t\t\t// \t<div className=\"downArrow\" name=\"down\" onClick={this.incrementLinkOrder}><FaSortDown/></div>\n\t\t\t\t// </div>\n\t\t\t\t// <button type=\"button\" className=\"tooltip trashButton\" \n\t\t\t\t// \tonClick={this.removeLink}>\n\t\t\t //    \t<FaTrashAlt />\n\t\t\t\t//     <span className=\"tooltiptext\">Remove this Link</span>\n\t\t\t\t// </button>\n\n\n\n\t\t\t\t// <button type=\"button\" className=\"tooltip\" \n\t\t\t\t// \tonClick={this.decrementLinkOrder}>\n\t\t\t //    \t<FaSortUp/>\n\t\t\t\t//     <span className=\"tooltiptext\">Move link up</span>\n\t\t\t\t// </button>\n\t\t\t\t// <button type=\"button\" className=\"tooltip trashButton\" \n\t\t\t\t// \tonClick={this.incrementLinkOrder}>\n\t\t\t //    \t<FaSortDown/>\n\t\t\t\t//     <span className=\"tooltiptext\">Move link up</span>\n\t\t\t\t// </button>\n\n\n// taken from: http://react.tips/checkboxes-in-react-16/\nconst Checkbox = ({ label, name, isSelected, onCheckboxChange }) => (\n  <div className=\"childLinkCheckbox\">\n    <label>\n      <input\n        type=\"checkbox\"\n        name={name}\n        checked={isSelected}\n        onChange={onCheckboxChange}\n        className=\"form-check-input\"\n      />\n      {label}\n    </label>\n  </div>\n);"]},"metadata":{},"sourceType":"module"}