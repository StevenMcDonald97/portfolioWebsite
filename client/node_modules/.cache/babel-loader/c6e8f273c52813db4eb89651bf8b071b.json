{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/securePages/uploadImages.js\";\n// based on tutorial here: https://codeburst.io/image-uploading-using-react-and-node-to-get-the-images-up-c46ec11a7129\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from \"react-images-upload\";\n\nconst FileReader = require('filereader');\n\nexport default class Contact extends Component {\n  constructor(props) {\n    super(props);\n    this.imageArray = [];\n    this.imageObj = [];\n    this.imageData = [];\n    this.state = {\n      selectedFiles: [],\n      files: []\n    };\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.getData = this.getData.bind(this);\n    this.removeFile = this.removeFile.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  uploadFiles(e) {\n    this.setState({\n      selectedFiles: Array.from(e.target.files)\n    });\n    this.imageObj.push(e.target.files);\n    console.log(this.imageObj);\n    console.log(this.state.selectedFiles);\n\n    for (let i = 0; i < this.imageObj[0].length; i++) {\n      this.imageArray.push(URL.createObjectURL(this.imageObj[0][i]));\n    }\n\n    this.setState({\n      files: this.imageArray\n    });\n  }\n\n  removeFile(url) {\n    console.log(\"here!\");\n    const index = this.imageArray.indexOf(url);\n\n    if (index > -1) {\n      const newFiles = this.state.selectedFiles.splice(index, 1);\n      this.setState({\n        selectedFiles: newFiles\n      });\n      this.imageArray.splice(index, 1);\n      this.imageData.splice(index, 1);\n    }\n\n    console.log(this.state.selectedFiles);\n  }\n\n  getData(obj) {\n    this.imageData.push(obj);\n  }\n\n  onSubmit(e) {\n    console.log(this.imageData);\n    const data = new FormData();\n\n    for (var x = 0; x < this.state.selectedFiles.length; x++) {\n      data.append('file', this.state.selectedFiles[x]);\n    }\n\n    axios.post(\"/upload/uploadImages\", data, {// receive two    parameter endpoint url ,form data\n    }).then(res => {\n      // then print response status\n      console.log(res.statusText);\n    });\n    this.imageData = [];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-upload-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"main-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }\n    }, \" Upload an Image \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group multi-preview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, (this.imageArray || []).map(url => /*#__PURE__*/React.createElement(EditTag, {\n      key: url,\n      url: url,\n      sendData: this.getData,\n      remove: this.removeFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      onChange: this.uploadFiles,\n      multiple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, \"Upload\")));\n  }\n\n}\n\nclass EditTag extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: this.props.url,\n      title: '',\n      date: '',\n      size: '',\n      medium: '',\n      availability: '',\n      price: '',\n      portfolio: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editImageTag\",\n      onSubmit: this.props.sendData(this.state),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.props.url,\n      className: \"uploadImage\",\n      alt: \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: this.state.title,\n      placeholder: \"Title\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"date\",\n      value: this.state.date,\n      placeholder: \"Date\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"medium\",\n      value: this.state.medium,\n      placeholder: \"Medium\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"size\",\n      value: this.state.size,\n      placeholder: \"Size\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"price\",\n      value: this.state.price,\n      placeholder: \"Price\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"availability\",\n      value: this.state.availability,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"forSale\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, \"For Sale\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"notForSale\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, \"Not For Sale\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, \"Sold\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"other\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"Not Applicable\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"tooltip btn\",\n      onClick: () => this.props.remove(this.props.url),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"toolTipText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, \"Remove this Image\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/securePages/uploadImages.js"],"names":["React","Component","axios","ImageUploader","FileReader","require","Contact","constructor","props","imageArray","imageObj","imageData","state","selectedFiles","files","uploadFiles","bind","getData","removeFile","onSubmit","e","setState","Array","from","target","push","console","log","i","length","URL","createObjectURL","url","index","indexOf","newFiles","splice","obj","data","FormData","x","append","post","then","res","statusText","render","map","EditTag","title","date","size","medium","availability","price","portfolio","handleChange","name","value","sendData","remove"],"mappings":"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","sourcesContent":["// based on tutorial here: https://codeburst.io/image-uploading-using-react-and-node-to-get-the-images-up-c46ec11a7129\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from \"react-images-upload\";\nconst FileReader = require('filereader');\n\nexport default class Contact extends Component {\n\t imageArray = [];\n   imageObj=[];\n   imageData=[];\n\n  constructor(props) {\n\t\tsuper(props);\n      this.state ={\n        selectedFiles: [],\n        files:[]\n      };\n      this.uploadFiles = this.uploadFiles.bind(this);\n      this.getData=this.getData.bind(this);\n      this.removeFile = this.removeFile.bind(this);\n      this.onSubmit = this.onSubmit.bind(this);\n   \t}\n\n    uploadFiles(e) {\n\n      this.setState({\n       selectedFiles: Array.from(e.target.files),\n      })\n\n      this.imageObj.push(e.target.files);\n      console.log(this.imageObj);\n      console.log(this.state.selectedFiles);\n\n      for (let i = 0; i < this.imageObj[0].length; i++) {\n          this.imageArray.push(URL.createObjectURL(this.imageObj[0][i]))\n      }\n      this.setState({ files: this.imageArray });\n      \n\n    }\n\n    removeFile(url){\n      console.log(\"here!\");\n      const index = this.imageArray.indexOf(url);\n      if (index > -1) {\n        const newFiles = this.state.selectedFiles.splice(index, 1);\n        this.setState({selectedFiles: newFiles})\n        this.imageArray.splice(index, 1);\n        this.imageData.splice(index, 1);\n      }\n      console.log(this.state.selectedFiles);\n\n    }\n\n    getData(obj){\n      this.imageData.push(obj);\n    }\n\n    onSubmit(e) {\n        console.log(this.imageData);\n\n        const data = new FormData();\n           for(var x = 0; x<this.state.selectedFiles.length; x++) {\n               data.append('file', this.state.selectedFiles[x])\n           }\n\n          axios.post(\"/upload/uploadImages\", data, { \n              // receive two    parameter endpoint url ,form data\n          })\n\n        .then(res => { // then print response status\n            console.log(res.statusText)\n         })\n        this.imageData=[];\n\n    }\n\n  render(){\n\n  \treturn(\n  \t\t<div className=\"main-upload-container\"> \n  \t\t\t<h3 className=\"main-heading\"> Upload an Image </h3>\n          <div className=\"form-group multi-preview\">\n              {(this.imageArray || []).map(url => (\n                  <EditTag key={url} url={url} sendData={this.getData} remove={this.removeFile}/>\n              ))}\n          </div>\n        <form>\n          <div className=\"form-group\">\n              <input type=\"file\" className=\"form-control\" onChange={this.uploadFiles} multiple />\n          </div>\n          <button type=\"button\" className=\"btn\" onClick={this.onSubmit}>Upload</button>\n        </form >\n  \t\t</div>\n  \t)\n  }\n }\n\n\nclass EditTag extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      url:this.props.url,\n      title:'',\n      date:'',\n      size:'',\n      medium:'',\n      availability:'',\n      price:'',\n      portfolio:''\n    }\n    this.handleChange=this.handleChange.bind(this);\n  }\n\n  handleChange(e) {    \n    this.setState({[e.target.name]: e.target.value});  \n  }\n\n  render(){\n\n    return(\n      <div className=\"editImageTag\" onSubmit={this.props.sendData(this.state)} >\n        <img src={this.props.url} className=\"uploadImage\" alt=\"...\"/>\n        <input type=\"text\" name=\"title\" value={ this.state.title } placeholder=\"Title\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"date\" value={ this.state.date } placeholder=\"Date\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"medium\" value={ this.state.medium } placeholder=\"Medium\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"size\" value={ this.state.size } placeholder=\"Size\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"price\" value={ this.state.price } placeholder=\"Price\" onChange={this.handleChange} />\n        <select name=\"availability\" value={this.state.availability} onChange={this.handleChange}>            \n          <option value=\"forSale\">For Sale</option>\n          <option value=\"notForSale\">Not For Sale</option>\n          <option value=\"sold\">Sold</option>\n          <option value=\"other\">Not Applicable</option>\n        </select>\n        <button type=\"button\" className=\"tooltip btn\" onClick={()=>this.props.remove(this.props.url)}>\n          <i className=\"fa fa-trash-o\"/> \n          <span className=\"toolTipText\">Remove this Image</span>\n        </button>\n      </div>\n      )\n  }\n }\n\n"]},"metadata":{},"sourceType":"module"}