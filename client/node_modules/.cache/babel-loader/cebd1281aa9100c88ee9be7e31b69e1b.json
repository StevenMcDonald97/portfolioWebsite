{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/securePages/uploadImages.js\";\n// based on tutorial here: https://codeburst.io/image-uploading-using-react-and-node-to-get-the-images-up-c46ec11a7129\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from \"react-images-upload\";\n\nconst FileReader = require('filereader');\n\nexport default class Contact extends Component {\n  constructor(props) {\n    super(props);\n    this.imageArray = [];\n    this.imageObj = [];\n    this.imageData = [];\n    this.state = {\n      selectedFiles: []\n    };\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.getData = this.getData.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  uploadFiles(e) {\n    this.setState({\n      selectedFiles: e.target.files\n    });\n    this.imageObj.push(e.target.files);\n\n    for (let i = 0; i < this.imageObj[0].length; i++) {\n      this.imageArray.push(URL.createObjectURL(this.imageObj[0][i]));\n    }\n\n    this.setState({\n      file: this.imageArray\n    });\n    console.log(this.state);\n  }\n\n  getData(obj) {\n    this.imageData.push(obj);\n  }\n\n  onSubmit(e) {\n    console.log(this.imageData);\n    imageData = [];\n    const data = new FormData();\n\n    for (var x = 0; x < this.state.selectedFiles.length; x++) {\n      data.append('file', this.state.selectedFiles[x]);\n    }\n\n    axios.post(\"/upload/uploadImages\", data, {// receive two    parameter endpoint url ,form data\n    }).then(res => {\n      // then print response status\n      console.log(res.statusText);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-upload-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"main-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }\n    }, \" Upload an Image \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group multi-preview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, (this.imageArray || []).map(url => /*#__PURE__*/React.createElement(EditTag, {\n      key: url,\n      url: url,\n      sendData: this.getData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      onChange: this.uploadFiles,\n      multiple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Upload\")));\n  }\n\n}\n\nclass EditTag extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: this.props.url,\n      title: '',\n      date: '',\n      medium: '',\n      size: '',\n      availability: '',\n      price: '',\n      portfolio: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"editImageTag\",\n      onSubmit: this.props.sendData(this.state),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.props.url,\n      className: \"uploadImage\",\n      alt: \"...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: this.state.title,\n      placeholder: \"Title\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"date\",\n      value: this.state.date,\n      placeholder: \"Date\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"medium\",\n      value: this.state.medium,\n      placeholder: \"Medium\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"size\",\n      value: this.state.size,\n      placeholder: \"Size\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"price\",\n      value: this.state.price,\n      placeholder: \"Price\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"availability\",\n      value: this.state.availability,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"forSale\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"For Sale\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"notForSale\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, \"Not For Sale\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, \"Sold\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"other\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, \"Not Applicable\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/securePages/uploadImages.js"],"names":["React","Component","axios","ImageUploader","FileReader","require","Contact","constructor","props","imageArray","imageObj","imageData","state","selectedFiles","uploadFiles","bind","getData","onSubmit","e","setState","target","files","push","i","length","URL","createObjectURL","file","console","log","obj","data","FormData","x","append","post","then","res","statusText","render","map","url","EditTag","title","date","medium","size","availability","price","portfolio","handleChange","name","value","sendData"],"mappings":"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","sourcesContent":["// based on tutorial here: https://codeburst.io/image-uploading-using-react-and-node-to-get-the-images-up-c46ec11a7129\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ImageUploader from \"react-images-upload\";\nconst FileReader = require('filereader');\n\nexport default class Contact extends Component {\n\t imageArray = [];\n   imageObj=[];\n   imageData=[];\n\n  constructor(props) {\n\t\tsuper(props);\n      this.state ={\n        selectedFiles: []\n      };\n      this.uploadFiles = this.uploadFiles.bind(this);\n      this.getData=this.getData.bind(this);\n      this.onSubmit = this.onSubmit.bind(this);\n   \t}\n\n    uploadFiles(e) {\n\n      this.setState({\n       selectedFiles: e.target.files,\n      })\n\n      this.imageObj.push(e.target.files);\n      for (let i = 0; i < this.imageObj[0].length; i++) {\n          this.imageArray.push(URL.createObjectURL(this.imageObj[0][i]))\n      }\n      this.setState({ file: this.imageArray });\n      console.log(this.state);\n    }\n\n    getData(obj){\n      this.imageData.push(obj);\n    }\n\n    onSubmit(e) {\n        console.log(this.imageData);\n        imageData=[];\n        \n        const data = new FormData();\n           for(var x = 0; x<this.state.selectedFiles.length; x++) {\n               data.append('file', this.state.selectedFiles[x])\n           }\n\n          axios.post(\"/upload/uploadImages\", data, { \n              // receive two    parameter endpoint url ,form data\n          })\n\n        .then(res => { // then print response status\n            console.log(res.statusText)\n         })\n\n    }\n\n  render(){\n\n  \treturn(\n  \t\t<div className=\"main-upload-container\"> \n  \t\t\t<h3 className=\"main-heading\"> Upload an Image </h3>\n          <div className=\"form-group multi-preview\">\n              {(this.imageArray || []).map(url => (\n                  <EditTag key={url} url={url} sendData={this.getData}/>\n              ))}\n          </div>\n        <form>\n          <div className=\"form-group\">\n              <input type=\"file\" className=\"form-control\" onChange={this.uploadFiles} multiple />\n          </div>\n          <button type=\"button\" className=\"btn\" onClick={this.onSubmit}>Upload</button>\n        </form >\n  \t\t</div>\n  \t)\n  }\n }\n\n\nclass EditTag extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      url:this.props.url,\n      title:'',\n      date:'',\n      medium:'',\n      size:'',\n      availability:'',\n      price:'',\n      portfolio:''\n    }\n    this.handleChange=this.handleChange.bind(this);\n  }\n\n  handleChange(e) {    \n    this.setState({[e.target.name]: e.target.value});  \n  }\n\n  render(){\n\n    return(\n      <form className=\"editImageTag\" onSubmit={this.props.sendData(this.state)} >\n        <img src={this.props.url} className=\"uploadImage\" alt=\"...\"/>\n        <input type=\"text\" name=\"title\" value={ this.state.title } placeholder=\"Title\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"date\" value={ this.state.date } placeholder=\"Date\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"medium\" value={ this.state.medium } placeholder=\"Medium\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"size\" value={ this.state.size } placeholder=\"Size\" onChange={this.handleChange} />\n        <input type=\"text\" name=\"price\" value={ this.state.price } placeholder=\"Price\" onChange={this.handleChange} />\n        <select name=\"availability\" value={this.state.availability} onChange={this.handleChange}>            \n          <option value=\"forSale\">For Sale</option>\n          <option value=\"notForSale\">Not For Sale</option>\n          <option value=\"sold\">Sold</option>\n          <option value=\"other\">Not Applicable</option>\n        </select>\n      </form>\n      )\n  }\n }\n\n"]},"metadata":{},"sourceType":"module"}