{"ast":null,"code":"import _classCallCheck from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var Contact=/*#__PURE__*/function(_Component){_inherits(Contact,_Component);var _super=_createSuper(Contact);function Contact(props){var _this;_classCallCheck(this,Contact);_this=_super.call(this,props);_this.state={formData:{name:'',email:'',message:''},errors:{}};return _this;}_createClass(Contact,[{key:\"resetForm\",value:function resetForm(){this.setState({name:'',email:'',message:''});}},{key:\"onChange\",value:function onChange(field,e){var fields=this.state.formData;fields[field]=e.target.value;this.setState({fields:fields});}},{key:\"handleValidation\",value:function handleValidation(){var fields=this.state.formData;var errors={};var formIsValid=true;if(!fields.name){formIsValid=false;errors['name']=\"Cannot be empty\";}if(!fields[\"email\"]){formIsValid=false;errors[\"email\"]=\"Cannot be empty\";}if(typeof fields[\"email\"]!==\"undefined\"){var lastPositionOfAt=fields[\"email\"].lastIndexOf('@');var lastPositionOfPeriod=fields[\"email\"].lastIndexOf('.');if(!(lastPositionOfAt<lastPositionOfPeriod&&lastPositionOfAt>0&&fields[\"email\"].indexOf('@@')===-1&&lastPositionOfPeriod>2&&fields[\"email\"].length-lastPositionOfPeriod>2)){formIsValid=false;errors[\"email\"]=\"Must be a valid email address\";}}if(!fields.message){formIsValid=false;errors['message']=\"Please enter a message\";}this.setState({errors:errors});return formIsValid;}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();this.handleValidation();axios({method:\"POST\",url:\"/email/send/\",data:this.state.fields}).then(function(response){if(response.data.status==='success'){alert(\"Message Sent.\");_this2.resetForm();}else if(response.data.status==='fail'){alert(\"Message failed to send.\");}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"contactForm\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"formTitle\"},\"Contact the Artist\"),/*#__PURE__*/React.createElement(\"form\",{name:\"contactForm\",onSubmit:this.handleSubmit.bind(this),method:\"post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"formBody\"},/*#__PURE__*/React.createElement(\"div\",{className:\"formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"recipientName\",className:\"formLabel\"},\"Your Name:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"formInput\",value:this.state.formData.name,onChange:this.onChange.bind(this,\"name\"),placeholder:\"Please enter your name\",required:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"formError\"},this.state.errors[\"name\"])),/*#__PURE__*/React.createElement(\"div\",{className:\"formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"recipient-email\",className:\"formLabel\"},\"Your Email:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"formInput\",value:this.state.formData.email,onChange:this.onChange.bind(this,\"email\"),placeholder:\"Please enter your email\",required:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"formError\"},this.state.errors[\"email\"])),/*#__PURE__*/React.createElement(\"div\",{className:\"formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"message-text\",className:\"formLabel\"},\"Message:\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"formInput formMessage\",name:\"message\",value:this.state.formData.message,onChange:this.onChange.bind(this,\"message\"),placeholder:\"Type your message...\",required:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"formError\"},this.state.errors[\"message\"]))),/*#__PURE__*/React.createElement(\"div\",{className:\"contact-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"submitButton\",onClick:this.props.cancel},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"submitButton\"},\"Send\"))));}}]);return Contact;}(Component);export{Contact as default};","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/pages/contact.js"],"names":["React","Component","axios","Contact","props","state","formData","name","email","message","errors","setState","field","e","fields","target","value","formIsValid","lastPositionOfAt","lastIndexOf","lastPositionOfPeriod","indexOf","length","event","preventDefault","handleValidation","method","url","data","then","response","status","alert","resetForm","handleSubmit","bind","onChange","cancel"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nexport default class Contact extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      formData : {\n        name:'',\n        email:'',\n        message:''\n      },\n      errors : {}\n    }\n  }\n  \n  resetForm(){\n    this.setState({name: '', email:'', message:''})\n  }\n\n\n  onChange(field, e){         \n      let fields = this.state.formData;\n      fields[field] = e.target.value;        \n      this.setState({fields});\n  }\n\n\n  handleValidation(){\n    const fields = this.state.formData;\n    let errors = {}; \n    let formIsValid = true;\n\n    if (!fields.name){\n      formIsValid = false;\n      errors['name'] = \"Cannot be empty\";\n    }\n\n    if(!fields[\"email\"]){\n      formIsValid = false;\n      errors[\"email\"] = \"Cannot be empty\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\"){\n      let lastPositionOfAt = fields[\"email\"].lastIndexOf('@');\n      let lastPositionOfPeriod = fields[\"email\"].lastIndexOf('.');\n      if(!(lastPositionOfAt < lastPositionOfPeriod && lastPositionOfAt > 0 \n          && fields[\"email\"].indexOf('@@') === -1 && lastPositionOfPeriod>2 \n          && (fields[\"email\"].length - lastPositionOfPeriod) > 2)) {\n\n            formIsValid=false\n            errors[\"email\"] = \"Must be a valid email address\";\n\n          }\n    }\n    if (!fields.message){\n      formIsValid = false;\n      errors['message'] = \"Please enter a message\";\n    }\n\n    this.setState({errors: errors});\n    return formIsValid;\n\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.handleValidation();\n    axios({\n      method: \"POST\", \n      url:\"/email/send/\", \n      data:  this.state.fields\n    }).then((response)=>{\n      if (response.data.status === 'success'){\n        alert(\"Message Sent.\"); \n        this.resetForm()\n      } else if(response.data.status === 'fail'){\n        alert(\"Message failed to send.\")\n      }\n    })\n\n  }\n\n  render(){\n    return(\n      <div className=\"contactForm\" >\n        <h2 className=\"formTitle\">Contact the Artist</h2>\n        <form name=\"contactForm\" \n          onSubmit={this.handleSubmit.bind(this)} method=\"post\">\n          <div className=\"formBody\">\n              <div className=\"formGroup\">\n                <label htmlFor=\"recipientName\" className=\"formLabel\">Your Name:</label>\n                <input type=\"text\" className=\"formInput\" value={this.state.formData.name} \n                  onChange={this.onChange.bind(this, \"name\")} placeholder=\"Please enter your name\" required/>\n                  <span className=\"formError\" >{this.state.errors[\"name\"]}</span>\n              </div>\n              <div className=\"formGroup\">\n                <label htmlFor=\"recipient-email\" className=\"formLabel\">Your Email:</label>\n                <input type=\"text\" className=\"formInput\" value={this.state.formData.email} \n                  onChange={this.onChange.bind(this, \"email\")}  placeholder=\"Please enter your email\" required/>\n                  <span className=\"formError\" >{this.state.errors[\"email\"]}</span>\n              </div>\n              <div className=\"formGroup\">\n                <label htmlFor=\"message-text\" className=\"formLabel\">Message:</label>\n                <textarea className=\"formInput formMessage\" name=\"message\" value={this.state.formData.message} \n                  onChange={this.onChange.bind(this, \"message\")} placeholder=\"Type your message...\" required></textarea>\n                  <span className=\"formError\" >{this.state.errors[\"message\"]}</span>\n              </div>\n          </div>\n          <div className=\"contact-footer\">\n            <button type=\"button\" className=\"submitButton\" onClick={this.props.cancel}>Cancel</button>\n            <button type=\"submit\" className=\"submitButton\">Send</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}