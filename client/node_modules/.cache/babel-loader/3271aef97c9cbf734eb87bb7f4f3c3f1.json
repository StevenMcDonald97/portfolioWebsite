{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/homePageTemplate.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage, ImageCheckBox } from 'App/admin/helperComponents';\nimport PropTypes from 'prop-types';\nimport ImageErrorCatch from 'App/pages/imageErrorCatch';\nexport default class HomePageTemplate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      type: '',\n      images: [],\n      name: '',\n      subHeader: '',\n      imageLinks: '',\n      pageInfo: [],\n      allImages: []\n    };\n    this.loadAllImages = this.loadAllImages.bind(this);\n    this.selectType = this.selectType.bind(this);\n    this.addImage = this.addImage.bind(this);\n    this.addMainImage = this.addMainImage.bind(this);\n    this.updateLink = this.updateLink.bind(this);\n    this.removeImage = this.removeImage.bind(this);\n    this.selectType = this.selectType.bind(this);\n    this.imageSelect = this.imageSelect.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('/api/getHomePage').then(response => {\n      this.setState({\n        type: response.data.type,\n        name: response.data.name,\n        images: response.data.images,\n        imageLinks: response.data.imageLinks,\n        subHeader: response.data.subHeader\n      });\n    });\n    axios.get('/api/getPageInfo').then(response => {\n      this.setState({\n        pageInfo: response.data\n      });\n    });\n  }\n\n  loadAllImages() {\n    /* fetch all images from database */\n    axios.get('/image/getAll').then(response => {\n      this.setState({\n        allImages: response.data\n      });\n    });\n  }\n\n  addImage(imageName) {\n    if (this.state.images.length < 10) {\n      const values = [...this.state.images];\n      const textValues = [...this.state.imageLinks];\n      values.push(imageName);\n      textValues.push('None');\n      this.setState({\n        images: values,\n        imageLinks: textValues\n      });\n    } else {\n      alert(\"You can only have a max of 10 images in the slideshow\");\n    }\n  }\n\n  addMainImage(imageName) {\n    const values = [...this.state.images];\n    values[0] = imageName;\n    this.setState({\n      images: values\n    });\n  }\n\n  updateLink(index, text) {\n    const textValues = [...this.state.imageLinks];\n    textValues[index] = text;\n    this.setState({\n      imageLinks: textValues\n    });\n  }\n\n  removeImage(imageName) {\n    const values = [...this.state.images];\n    const textValues = [...this.state.imageLinks];\n    const index = values.indexOf(imageName);\n    values.splice(index, 1);\n    this.setState({\n      images: values,\n      imageLinks: textValues\n    });\n  }\n\n  onSubmit() {\n    const {\n      imageFile,\n      ...PageData\n    } = this.state;\n    const imageData = new FormData();\n    imageData.append('file', imageFile);\n    axios.post(\"/upload/uploadImages\", imageData).then(res => {\n      // then print response status\n      console.log(`Image upload returned: ${res.statusText}`);\n    }).catch(err => console.log(err));\n    axios.post('/edit/editHomePage', PageData).then(response => console.log(response));\n    this.props.history.push('/userPanel');\n  }\n\n  selectType() {\n    return /*#__PURE__*/React.createElement(\"select\", {\n      name: \"type\",\n      className: \"homePageSelect\",\n      value: this.state.type,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"simpleImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    }, \"Simple Image\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"panoramic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }\n    }, \"Panoramic\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"fullScreen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }\n    }, \"Full Screen Image\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"slideShow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, \"Slide Show\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }, \"Options\"));\n  }\n\n  imageSelect(addImage, removeImage) {\n    return this.state.allImages.length !== 0 ? this.state.allImages.map(image => /*#__PURE__*/React.createElement(ImageCheckBox, {\n      key: image._id,\n      image: image,\n      images: this.state.images,\n      addToPage: addImage,\n      removeFromPage: removeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 6\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 8\n      }\n    }, \" Go to Add Images to upload images to your site \");\n  }\n\n  render() {\n    if (this.state.type === \"slideshow\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"pageForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(BackButton, {\n        backPage: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }\n      }), this.selectType(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 8\n        }\n      }, \"Your Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"smallPageField\",\n        name: \"name\",\n        value: this.state.name || '',\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"subHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 8\n        }\n      }, \"Tagline: \"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"pageField\",\n        name: \"subHeader\",\n        value: this.state.subHeader,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"homeSlideShow edit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"editSubHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 8\n        }\n      }, \"Choose images for your homepage slideshow (up to 10): \"), this.imageSelect(this.addImage, this.removeImage)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editSubmitButtons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 8\n        }\n      }, \" Submit \"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 8\n        }\n      }, \"Cancel\"))));\n    } else if (this.state.type === \"options\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"pageForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(BackButton, {\n        backPage: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }\n      }), this.selectType(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 8\n        }\n      }, \"Your Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"smallPageField\",\n        name: \"name\",\n        value: this.state.name || '',\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"subHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 8\n        }\n      }, \"Tagline: \"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"pageField\",\n        name: \"subHeader\",\n        value: this.state.subHeader,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 7\n        }\n      }, this.state.images.map((image, index) => /*#__PURE__*/React.createElement(HomeObjectEditor, {\n        image: image,\n        index: index,\n        link: this.state.imageLinks[index],\n        updateHomeLink: this.updateLink,\n        removeHomeObject: this.removeImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputLabel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 8\n        }\n      }, \"Choose Images to Show:\"), this.imageSelect(this.addMainImage, this.removeImage)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editSubmitButtons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 8\n        }\n      }, \" Submit \"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 8\n        }\n      }, \"Cancel\"))));\n    }\n\n    if (this.state.type === \"simpleImage\" || this.state.type === \"panoramic\" || this.state.type === \"fullScreen\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"pageForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(BackButton, {\n        backPage: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 7\n        }\n      }), this.selectType(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 8\n        }\n      }, \"Your Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"smallPageField\",\n        name: \"name\",\n        value: this.state.name || '',\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"inputLabel\",\n        htmlFor: \"subHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 8\n        }\n      }, \"Tagline: \"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"pageField\",\n        name: \"subHeader\",\n        value: this.state.subHeader,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputGroup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"inputLabel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 8\n        }\n      }, \"Home Page Picture:\"), this.imageSelect(this.addMainImage, this.removeImage)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editSubmitButtons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 8\n        }\n      }, \" Submit \"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"editSubmitButton\",\n        onClick: this.props.backPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 8\n        }\n      }, \"Cancel\"))));\n    }\n  }\n\n}\nHomePageTemplate.propTypes = {\n  backPage: PropTypes.func\n};\n\nclass HomeObjectEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateObject = event => {\n      if (event) {\n        this.setState({\n          [event.target.name]: event.target.value\n        });\n        this.props.updateHomeLink(this.props.index, event.target.value);\n      }\n    };\n\n    this.state = {\n      image: this.props.image,\n      link: this.props.link\n    };\n    this.updateObject = this.updateObject.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"pageEditingObject\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ImageErrorCatch, {\n      src: this.state.image,\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputGroup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"blurb\",\n      className: \"editingInput\",\n      value: this.state.link,\n      placeholder: \"Page\",\n      onChange: this.updateObject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"type\",\n      className: \"pageSelect\",\n      value: this.state.page,\n      onChange: this.updateObject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }\n    }, \"None\"), this.props.pages.map(page => /*#__PURE__*/React.createElement(\"option\", {\n      value: page.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 8\n      }\n    }, page.title)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      name: this.props.index,\n      className: \"tooltip trashButton\",\n      onClick: index => this.props.removeHomeObject(this.props.index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"tooltiptext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }\n    }, \"Remove this\")));\n  }\n\n} // /*create a component for each image to enable adding and removing from the homepage*/\n// function ImageCheckBox(props) {\n// \tconst [checked, setChecked] = useState(props.images.includes(props.imageName));\n//   \tconst toggle = React.useCallback(() => {\n//   \t\tsetChecked(!checked);\n//   \t\tif (!checked) {\n//   \t\t\tprops.addToPage(props.image.fileName)\n//   \t\t} else {\n//   \t\t\tprops.removeFromPage(props.image.fileName)\n//   \t\t}\n//   \t});\n// \treturn (\t\t\t  \n// \t\t<div className=\"imageSelection\">\n// \t\t\t<input type=\"checkbox\" name={props.image.fileName} checked={checked} \n// \t\t\t\tonChange={toggle}/>\n// \t\t\t<ImageErrorCatch src={`./${props.image.fileName}`}/>\n// \t\t</div>\n// \t)\n// }","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/homePageTemplate.js"],"names":["React","Component","axios","BackButton","UploadImage","ImageCheckBox","PropTypes","ImageErrorCatch","HomePageTemplate","constructor","props","handleChange","event","setState","target","name","value","state","type","images","subHeader","imageLinks","pageInfo","allImages","loadAllImages","bind","selectType","addImage","addMainImage","updateLink","removeImage","imageSelect","onSubmit","componentDidMount","get","then","response","data","imageName","length","values","textValues","push","alert","index","text","indexOf","splice","imageFile","PageData","imageData","FormData","append","post","res","console","log","statusText","catch","err","history","map","image","_id","render","backPage","propTypes","func","HomeObjectEditor","updateObject","updateHomeLink","link","page","pages","title","removeHomeObject"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,aAAlC,QAAuD,4BAAvD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AAEA,eAAe,MAAMC,gBAAN,SAA+BP,SAA/B,CAAwC;AACtDQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,SAsClBC,YAtCkB,GAsCFC,KAAD,IAAW;AACzB,WAAKC,QAAL,CAAc;AAAC,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAoBH,KAAK,CAACE,MAAN,CAAaE;AAAlC,OAAd;AACA,KAxCiB;;AAEjB,SAAKC,KAAL,GAAY;AACXC,MAAAA,IAAI,EAAC,EADM;AAEXC,MAAAA,MAAM,EAAC,EAFI;AAGXJ,MAAAA,IAAI,EAAC,EAHM;AAIXK,MAAAA,SAAS,EAAC,EAJC;AAKXC,MAAAA,UAAU,EAAC,EALA;AAMXC,MAAAA,QAAQ,EAAC,EANE;AAOXC,MAAAA,SAAS,EAAC;AAPC,KAAZ;AASA,SAAKC,aAAL,GAAmB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAnB;AACA,SAAKC,UAAL,GAAgB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAhB;AACA,SAAKE,QAAL,GAAc,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAd;AACA,SAAKG,YAAL,GAAkB,KAAKA,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAAlB;AACA,SAAKI,UAAL,GAAgB,KAAKA,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAAhB;AACA,SAAKK,WAAL,GAAiB,KAAKA,WAAL,CAAiBL,IAAjB,CAAsB,IAAtB,CAAjB;AACA,SAAKC,UAAL,GAAgB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAhB;AACA,SAAKM,WAAL,GAAiB,KAAKA,WAAL,CAAiBN,IAAjB,CAAsB,IAAtB,CAAjB;AACA,SAAKO,QAAL,GAAc,KAAKA,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAAd;AACA;;AAEDQ,EAAAA,iBAAiB,GAAE;AACZ/B,IAAAA,KAAK,CAACgC,GAAN,CAAU,kBAAV,EACCC,IADD,CACOC,QAAD,IAAc;AAClB,WAAKvB,QAAL,CAAc;AACbK,QAAAA,IAAI,EAACkB,QAAQ,CAACC,IAAT,CAAcnB,IADN;AAEZH,QAAAA,IAAI,EAACqB,QAAQ,CAACC,IAAT,CAActB,IAFP;AAGZI,QAAAA,MAAM,EAACiB,QAAQ,CAACC,IAAT,CAAclB,MAHT;AAIZE,QAAAA,UAAU,EAACe,QAAQ,CAACC,IAAT,CAAchB,UAJb;AAKZD,QAAAA,SAAS,EAACgB,QAAQ,CAACC,IAAT,CAAcjB;AALZ,OAAd;AAOD,KATD;AAUNlB,IAAAA,KAAK,CAACgC,GAAN,CAAU,kBAAV,EAA8BC,IAA9B,CAAoCC,QAAD,IAAc;AAC5C,WAAKvB,QAAL,CAAc;AAACS,QAAAA,QAAQ,EAACc,QAAQ,CAACC;AAAnB,OAAd;AACD,KAFJ;AAGA;;AAMDb,EAAAA,aAAa,GAAE;AACd;AACAtB,IAAAA,KAAK,CAACgC,GAAN,CAAU,eAAV,EACGC,IADH,CACSC,QAAD,IAAc;AACnB,WAAKvB,QAAL,CAAc;AAACU,QAAAA,SAAS,EAACa,QAAQ,CAACC;AAApB,OAAd;AACA,KAHH;AAIA;;AAEDV,EAAAA,QAAQ,CAACW,SAAD,EAAW;AAClB,QAAI,KAAKrB,KAAL,CAAWE,MAAX,CAAkBoB,MAAlB,GAAyB,EAA7B,EAAgC;AAC/B,YAAMC,MAAM,GAAG,CAAC,GAAG,KAAKvB,KAAL,CAAWE,MAAf,CAAf;AACC,YAAMsB,UAAU,GAAG,CAAC,GAAG,KAAKxB,KAAL,CAAWI,UAAf,CAAnB;AACDmB,MAAAA,MAAM,CAACE,IAAP,CAAYJ,SAAZ;AACAG,MAAAA,UAAU,CAACC,IAAX,CAAgB,MAAhB;AACA,WAAK7B,QAAL,CAAc;AAACM,QAAAA,MAAM,EAACqB,MAAR;AAAgBnB,QAAAA,UAAU,EAACoB;AAA3B,OAAd;AAEA,KAPD,MAOO;AACNE,MAAAA,KAAK,CAAC,uDAAD,CAAL;AACA;AACD;;AAEDf,EAAAA,YAAY,CAACU,SAAD,EAAW;AACtB,UAAME,MAAM,GAAG,CAAC,GAAG,KAAKvB,KAAL,CAAWE,MAAf,CAAf;AACAqB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYF,SAAZ;AACA,SAAKzB,QAAL,CAAc;AAACM,MAAAA,MAAM,EAACqB;AAAR,KAAd;AACA;;AAEDX,EAAAA,UAAU,CAACe,KAAD,EAAQC,IAAR,EAAa;AACrB,UAAMJ,UAAU,GAAG,CAAC,GAAG,KAAKxB,KAAL,CAAWI,UAAf,CAAnB;AACAoB,IAAAA,UAAU,CAACG,KAAD,CAAV,GAAkBC,IAAlB;AACD,SAAKhC,QAAL,CAAc;AAACQ,MAAAA,UAAU,EAACoB;AAAZ,KAAd;AACA;;AAEDX,EAAAA,WAAW,CAACQ,SAAD,EAAW;AACpB,UAAME,MAAM,GAAG,CAAC,GAAG,KAAKvB,KAAL,CAAWE,MAAf,CAAf;AACA,UAAMsB,UAAU,GAAG,CAAC,GAAG,KAAKxB,KAAL,CAAWI,UAAf,CAAnB;AACA,UAAMuB,KAAK,GAAGJ,MAAM,CAACM,OAAP,CAAeR,SAAf,CAAd;AACDE,IAAAA,MAAM,CAACO,MAAP,CAAcH,KAAd,EAAoB,CAApB;AACA,SAAK/B,QAAL,CAAc;AAACM,MAAAA,MAAM,EAACqB,MAAR;AAAgBnB,MAAAA,UAAU,EAACoB;AAA3B,KAAd;AACA;;AAEDT,EAAAA,QAAQ,GAAE;AACT,UAAM;AAACgB,MAAAA,SAAD;AAAY,SAAGC;AAAf,QAAyB,KAAKhC,KAApC;AACA,UAAMiC,SAAS,GAAG,IAAIC,QAAJ,EAAlB;AACGD,IAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyBJ,SAAzB;AACA9C,IAAAA,KAAK,CAACmD,IAAN,CAAW,sBAAX,EAAmCH,SAAnC,EAA8Cf,IAA9C,CAAmDmB,GAAG,IAAI;AAAE;AACxDC,MAAAA,OAAO,CAACC,GAAR,CAAa,0BAAyBF,GAAG,CAACG,UAAW,EAArD;AACH,KAFD,EAEGC,KAFH,CAESC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAFhB;AAGHzD,IAAAA,KAAK,CAACmD,IAAN,CAAW,oBAAX,EAAiCJ,QAAjC,EAA2Cd,IAA3C,CAAiDC,QAAD,IAAYmB,OAAO,CAACC,GAAR,CAAYpB,QAAZ,CAA5D;AACA,SAAK1B,KAAL,CAAWkD,OAAX,CAAmBlB,IAAnB,CAAwB,YAAxB;AACA;;AAEDhB,EAAAA,UAAU,GAAE;AACX,wBACC;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,SAAS,EAAC,gBAA9B;AAA+C,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,IAAjE;AAAuE,MAAA,QAAQ,EAAE,KAAKP,YAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAQ,MAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAQ,MAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFD,eAGC;AAAQ,MAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHD,eAIC;AAAQ,MAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAKC;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALD,CADD;AASA;;AAGDoB,EAAAA,WAAW,CAACJ,QAAD,EAAWG,WAAX,EAAuB;AACjC,WACE,KAAKb,KAAL,CAAWM,SAAX,CAAqBgB,MAArB,KAAgC,CAAhC,GAAoC,KAAKtB,KAAL,CAAWM,SAAX,CAAqBsC,GAArB,CAA0BC,KAAD,iBAC5D,oBAAC,aAAD;AACC,MAAA,GAAG,EAAEA,KAAK,CAACC,GADZ;AAEC,MAAA,KAAK,EAAED,KAFR;AAGC,MAAA,MAAM,EAAE,KAAK7C,KAAL,CAAWE,MAHpB;AAIC,MAAA,SAAS,EAAEQ,QAJZ;AAKC,MAAA,cAAc,EAAEG,WALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADmC,CAApC,gBASG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAVL;AAYA;;AAEDkC,EAAAA,MAAM,GAAG;AACR,QAAI,KAAK/C,KAAL,CAAWC,IAAX,KAAkB,WAAtB,EAAmC;AAClC,0BACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWuD,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGG,KAAKvC,UAAL,EAHH,eAKC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,gBAA7B;AAA8C,QAAA,IAAI,EAAC,MAAnD;AACC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWF,IAAX,IAAmB,EAD3B;AAEC,QAAA,QAAQ,EAAE,KAAKJ,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CALD,eAWC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAEC;AAAU,QAAA,SAAS,EAAC,WAApB;AAAgC,QAAA,IAAI,EAAC,WAArC;AACC,QAAA,KAAK,EAAE,KAAKM,KAAL,CAAWG,SADnB;AAEC,QAAA,QAAQ,EAAE,KAAKT,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CAXD,eAiBC;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADD,EAEG,KAAKoB,WAAL,CAAiB,KAAKJ,QAAtB,EAAgC,KAAKG,WAArC,CAFH,CAjBD,eAqBC;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKE,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKtB,KAAL,CAAWuD,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,CArBD,CADD,CADD;AAgCA,KAjCD,MAiCO,IAAI,KAAKhD,KAAL,CAAWC,IAAX,KAAkB,SAAtB,EAAiC;AACvC,0BACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWuD,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGG,KAAKvC,UAAL,EAHH,eAKC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,gBAA7B;AAA8C,QAAA,IAAI,EAAC,MAAnD;AACC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWF,IAAX,IAAmB,EAD3B;AAEC,QAAA,QAAQ,EAAE,KAAKJ,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CALD,eAWC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAEC;AAAU,QAAA,SAAS,EAAC,WAApB;AAAgC,QAAA,IAAI,EAAC,WAArC;AACC,QAAA,KAAK,EAAE,KAAKM,KAAL,CAAWG,SADnB;AAEC,QAAA,QAAQ,EAAE,KAAKT,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CAXD,eAiBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKM,KAAL,CAAWE,MAAX,CAAkB0C,GAAlB,CAAsB,CAACC,KAAD,EAAQlB,KAAR,kBACtB,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEkB,KAAzB;AAAgC,QAAA,KAAK,EAAElB,KAAvC;AAA8C,QAAA,IAAI,EAAE,KAAK3B,KAAL,CAAWI,UAAX,CAAsBuB,KAAtB,CAApD;AAAkF,QAAA,cAAc,EAAE,KAAKf,UAAvG;AAAmH,QAAA,gBAAgB,EAAE,KAAKC,WAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADF,CAjBD,eAsBC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADD,EAEG,KAAKC,WAAL,CAAiB,KAAKH,YAAtB,EAAoC,KAAKE,WAAzC,CAFH,CAtBD,eA0BC;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKE,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKtB,KAAL,CAAWuD,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,CA1BD,CADD,CADD;AAqCA;;AAAC,QAAI,KAAKhD,KAAL,CAAWC,IAAX,KAAkB,aAAlB,IAAmC,KAAKD,KAAL,CAAWC,IAAX,KAAkB,WAArD,IAAoE,KAAKD,KAAL,CAAWC,IAAX,KAAkB,YAA1F,EAAuG;AACxG,0BACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWuD,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGG,KAAKvC,UAAL,EAHH,eAKC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,gBAA7B;AAA8C,QAAA,IAAI,EAAC,MAAnD;AACC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWF,IAAX,IAAmB,EAD3B;AAEC,QAAA,QAAQ,EAAE,KAAKJ,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CALD,eAWC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,OAAO,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,eAEC;AAAU,QAAA,SAAS,EAAC,WAApB;AAAgC,QAAA,IAAI,EAAC,WAArC;AACC,QAAA,KAAK,EAAE,KAAKM,KAAL,CAAWG,SADnB;AAEC,QAAA,QAAQ,EAAE,KAAKT,YAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CAXD,eAiBC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,EAEG,KAAKoB,WAAL,CAAiB,KAAKH,YAAtB,EAAoC,KAAKE,WAAzC,CAFH,CAjBD,eAqBC;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKE,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,kBAAhC;AAAmD,QAAA,OAAO,EAAE,KAAKtB,KAAL,CAAWuD,QAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,CArBD,CADD,CADD;AAgCA;AACD;;AArOqD;AAwOvDzD,gBAAgB,CAAC0D,SAAjB,GAA4B;AAC3BD,EAAAA,QAAQ,EAAC3D,SAAS,CAAC6D;AADQ,CAA5B;;AAIA,MAAMC,gBAAN,SAA+BnE,SAA/B,CAAyC;AACxCQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,SASlB2D,YATkB,GASFzD,KAAD,IAAU;AACxB,UAAGA,KAAH,EAAS;AACR,aAAKC,QAAL,CAAc;AAAC,WAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAoBH,KAAK,CAACE,MAAN,CAAaE;AAAlC,SAAd;AACA,aAAKN,KAAL,CAAW4D,cAAX,CAA0B,KAAK5D,KAAL,CAAWkC,KAArC,EAA4ChC,KAAK,CAACE,MAAN,CAAaE,KAAzD;AACA;AACD,KAdiB;;AAEjB,SAAKC,KAAL,GAAW;AACV6C,MAAAA,KAAK,EAAC,KAAKpD,KAAL,CAAWoD,KADP;AAEVS,MAAAA,IAAI,EAAC,KAAK7D,KAAL,CAAW6D;AAFN,KAAX;AAIA,SAAKF,YAAL,GAAkB,KAAKA,YAAL,CAAkB5C,IAAlB,CAAuB,IAAvB,CAAlB;AACA;;AASDuC,EAAAA,MAAM,GAAE;AACP,wBACE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,eAAD;AAAiB,MAAA,GAAG,EAAE,KAAK/C,KAAL,CAAW6C,KAAjC;AAAwC,MAAA,SAAS,EAAC,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADD,eAIA;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,SAAS,EAAC,cAA1C;AAAyD,MAAA,KAAK,EAAE,KAAK7C,KAAL,CAAWsD,IAA3E;AAAiF,MAAA,WAAW,EAAC,MAA7F;AACC,MAAA,QAAQ,EAAE,KAAKF,YADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAGC;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,SAAS,EAAC,YAA9B;AAA2C,MAAA,KAAK,EAAE,KAAKpD,KAAL,CAAWuD,IAA7D;AAAmE,MAAA,QAAQ,EAAE,KAAKH,YAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,EAEG,KAAK3D,KAAL,CAAW+D,KAAX,CAAiBZ,GAAjB,CAAsBW,IAAD,iBACtB;AAAQ,MAAA,KAAK,EAAEA,IAAI,CAACE,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BF,IAAI,CAACE,KAAjC,CADC,CAFH,CAHD,CAJA,eAcA;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,IAAI,EAAE,KAAKhE,KAAL,CAAWkC,KAAvC;AAA8C,MAAA,SAAS,EAAC,qBAAxD;AACC,MAAA,OAAO,EAAEA,KAAK,IAAE,KAAKlC,KAAL,CAAWiE,gBAAX,CAA4B,KAAKjE,KAAL,CAAWkC,KAAvC,CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHJ,CAdA,CADF;AAsBA;;AAxCuC,C,CA6CzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { BackButton, UploadImage, ImageCheckBox } from 'App/admin/helperComponents';\nimport PropTypes from 'prop-types';\nimport ImageErrorCatch from 'App/pages/imageErrorCatch';\n\nexport default class HomePageTemplate extends Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttype:'',\n\t\t\timages:[],\n\t\t\tname:'',\n\t\t\tsubHeader:'',\n\t\t\timageLinks:'',\n\t\t\tpageInfo:[],\n\t\t\tallImages:[]\n\t\t}\n\t\tthis.loadAllImages=this.loadAllImages.bind(this);\n\t\tthis.selectType=this.selectType.bind(this);\n\t\tthis.addImage=this.addImage.bind(this);\n\t\tthis.addMainImage=this.addMainImage.bind(this);\n\t\tthis.updateLink=this.updateLink.bind(this);\n\t\tthis.removeImage=this.removeImage.bind(this);\n\t\tthis.selectType=this.selectType.bind(this);\n\t\tthis.imageSelect=this.imageSelect.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n\t}\n\n\tcomponentDidMount(){\n        axios.get('/api/getHomePage')\n        .then((response) => {\n          this.setState({\n          \ttype:response.data.type,\n            name:response.data.name, \n            images:response.data.images, \n            imageLinks:response.data.imageLinks,\n            subHeader:response.data.subHeader, \n            });\n        });\n\t\taxios.get('/api/getPageInfo').then((response) => {\n\t      this.setState({pageInfo:response.data});\n\t    });\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({[event.target.name]:event.target.value})\n\t}\n\n\tloadAllImages(){\n\t\t/* fetch all images from database */\n\t\taxios.get('/image/getAll')\n\t\t  .then((response) => {\n\t\t  \tthis.setState({allImages:response.data})\n\t\t  });\n\t}\n\n\taddImage(imageName){\n\t\tif (this.state.images.length<10){\n\t\t\tconst values = [...this.state.images];\n \t\t\tconst textValues = [...this.state.imageLinks];\n\t\t\tvalues.push(imageName);\n\t\t\ttextValues.push('None');\n\t\t\tthis.setState({images:values, imageLinks:textValues});\n\n\t\t} else {\n\t\t\talert(\"You can only have a max of 10 images in the slideshow\");\n\t\t}\n\t}\n\n\taddMainImage(imageName){\n\t\tconst values = [...this.state.images];\n\t\tvalues[0] = imageName;\n\t\tthis.setState({images:values});\t\t\n\t}\n\n\tupdateLink(index, text){\n \t\tconst textValues = [...this.state.imageLinks];\n \t\ttextValues[index]=text;\n\t\tthis.setState({imageLinks:textValues});\n\t}\n\n\tremoveImage(imageName){\n \t\tconst values = [...this.state.images];\n \t\tconst textValues = [...this.state.imageLinks];\n \t\tconst index = values.indexOf(imageName);\n\t\tvalues.splice(index,1);\n\t\tthis.setState({images:values, imageLinks:textValues});\n\t}\n\n\tonSubmit(){\n\t\tconst {imageFile, ...PageData}=this.state;\n\t\tconst imageData = new FormData();\n\t    imageData.append('file', imageFile);\n\t    axios.post(\"/upload/uploadImages\", imageData).then(res => { // then print response status\n\t        console.log(`Image upload returned: ${res.statusText}`)\n\t    }).catch(err => console.log(err));\n\t\taxios.post('/edit/editHomePage', PageData).then((response)=>console.log(response));\n\t\tthis.props.history.push('/userPanel');\n\t}\n\n\tselectType(){\n\t\treturn(\n\t\t\t<select name='type' className='homePageSelect' value={this.state.type} onChange={this.handleChange}>\n\t\t\t\t<option value='simpleImage'>Simple Image</option>\n\t\t\t\t<option value='panoramic'>Panoramic</option>\n\t\t\t\t<option value='fullScreen'>Full Screen Image</option>\n\t\t\t\t<option value='slideShow'>Slide Show</option>\n\t\t\t\t<option value='options'>Options</option>\n\t\t\t</select>\n\t\t)\n\t}\n\n\n\timageSelect(addImage, removeImage){\n\t\treturn(\n\t\t\t this.state.allImages.length !== 0 ? this.state.allImages.map((image) =>(\n\t\t\t\t\t<ImageCheckBox \n\t\t\t\t\t\tkey={image._id}\n\t\t\t\t\t\timage={image} \n\t\t\t\t\t\timages={this.state.images}\n\t\t\t\t\t\taddToPage={addImage}\n\t\t\t\t\t\tremoveFromPage={removeImage}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t) : <div> Go to Add Images to upload images to your site </div>\n\t\t)\n\t}\n\n\trender() {\n\t\tif (this.state.type===\"slideshow\") {\n\t\t\treturn(\n\t\t\t\t<div className='pageEditor'>\n\t\t\t\t\t<form className='pageForm'>\n\t\t\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{ this.selectType() }\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='name'>Your Name:</label>\n\t\t\t\t\t\t\t<input type='text' className='smallPageField' name='name' \n\t\t\t\t\t\t\t\tvalue={this.state.name || ''} \n\t\t\t\t\t\t\t\tonChange={this.handleChange}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='subHeader'>Tagline: </label>\n\t\t\t\t\t\t\t<textarea className='pageField' name='subHeader' \n\t\t\t\t\t\t\t\tvalue={this.state.subHeader} \n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"homeSlideShow edit\">\n\t\t\t\t\t\t\t<h3 className=\"editSubHeader\">Choose images for your homepage slideshow (up to 10): </h3>\n\t\t\t\t\t\t\t{ this.imageSelect(this.addImage, this.removeImage) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='editSubmitButtons'>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.onSubmit}> Submit </button>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.props.backPage}> \n\t\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else if (this.state.type===\"options\") {\n\t\t\treturn(\n\t\t\t\t<div className='pageEditor'>\n\t\t\t\t\t<form className='pageForm'>\n\t\t\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{ this.selectType() }\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='name'>Your Name:</label>\n\t\t\t\t\t\t\t<input type='text' className='smallPageField' name='name' \n\t\t\t\t\t\t\t\tvalue={this.state.name || ''} \n\t\t\t\t\t\t\t\tonChange={this.handleChange}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='subHeader'>Tagline: </label>\n\t\t\t\t\t\t\t<textarea className='pageField' name='subHeader' \n\t\t\t\t\t\t\t\tvalue={this.state.subHeader} \n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{this.state.images.map((image, index)=>\n\t\t\t\t\t\t\t\t<HomeObjectEditor image={image} index={index} link={this.state.imageLinks[index]} updateHomeLink={this.updateLink} removeHomeObject={this.removeImage}/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<div className='inputLabel'>Choose Images to Show:</div>\n\t\t\t\t\t\t\t{ this.imageSelect(this.addMainImage, this.removeImage) }\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t\t<div className='editSubmitButtons'>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.onSubmit}> Submit </button>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.props.backPage}> \n\t\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} if (this.state.type===\"simpleImage\" || this.state.type===\"panoramic\" || this.state.type===\"fullScreen\"){\n\t\t\treturn(\n\t\t\t\t<div className='pageEditor'>\n\t\t\t\t\t<form className='pageForm'>\n\t\t\t\t\t\t<BackButton backPage={this.props.backPage}/>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{ this.selectType() }\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='name'>Your Name:</label>\n\t\t\t\t\t\t\t<input type='text' className='smallPageField' name='name' \n\t\t\t\t\t\t\t\tvalue={this.state.name || ''} \n\t\t\t\t\t\t\t\tonChange={this.handleChange}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<label className='inputLabel' htmlFor='subHeader'>Tagline: </label>\n\t\t\t\t\t\t\t<textarea className='pageField' name='subHeader' \n\t\t\t\t\t\t\t\tvalue={this.state.subHeader} \n\t\t\t\t\t\t\t\tonChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='inputGroup'>\n\t\t\t\t\t\t\t<div className='inputLabel'>Home Page Picture:</div>\n\t\t\t\t\t\t\t{ this.imageSelect(this.addMainImage, this.removeImage) }\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='editSubmitButtons'>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.onSubmit}> Submit </button>\n\t\t\t\t\t\t\t<button type='button' className='editSubmitButton' onClick={this.props.backPage}> \n\t\t\t\t\t\t\t\tCancel \n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n}\n\nHomePageTemplate.propTypes ={\n\tbackPage:PropTypes.func\n}\n\nclass HomeObjectEditor extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\timage:this.props.image,\n\t\t\tlink:this.props.link\n\t\t}\n\t\tthis.updateObject=this.updateObject.bind(this);\n\t}\n\n\tupdateObject = (event) =>{\n\t\tif(event){\n\t\t\tthis.setState({[event.target.name]:event.target.value})\n\t\t\tthis.props.updateHomeLink(this.props.index, event.target.value);\n\t\t}\n\t}\n\n\trender(){ \n\t\treturn(\n\t \t\t<li className=\"pageEditingObject\">\n\t \t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t<ImageErrorCatch src={this.state.image} className=\"\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"inputGroup\">\n\t\t\t\t\t<input type=\"text\" name=\"blurb\" className=\"editingInput\" value={this.state.link} placeholder=\"Page\" \n\t\t\t\t\t\tonChange={this.updateObject}/>\n\t\t\t\t\t<select name='type' className='pageSelect' value={this.state.page} onChange={this.updateObject}>\n\t\t\t\t\t\t<option value='none'>None</option>\n\t\t\t\t\t\t{ this.props.pages.map((page)=>\n\t\t\t\t\t\t\t<option value={page.title}>{page.title}</option>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<button type=\"button\" name={this.props.index} className=\"tooltip trashButton\" \n\t\t\t\t\tonClick={index=>this.props.removeHomeObject(this.props.index)}>\n\t\t\t    \t<FaTrashAlt />\n\t\t\t\t    <span className=\"tooltiptext\">Remove this</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t)\n\t}\n}\n\n\n\n// /*create a component for each image to enable adding and removing from the homepage*/\n// function ImageCheckBox(props) {\n// \tconst [checked, setChecked] = useState(props.images.includes(props.imageName));\n//   \tconst toggle = React.useCallback(() => {\n//   \t\tsetChecked(!checked);\n//   \t\tif (!checked) {\n//   \t\t\tprops.addToPage(props.image.fileName)\n//   \t\t} else {\n//   \t\t\tprops.removeFromPage(props.image.fileName)\n//   \t\t}\n//   \t});\n\n\n// \treturn (\t\t\t  \n// \t\t<div className=\"imageSelection\">\n// \t\t\t<input type=\"checkbox\" name={props.image.fileName} checked={checked} \n// \t\t\t\tonChange={toggle}/>\n// \t\t\t<ImageErrorCatch src={`./${props.image.fileName}`}/>\n// \t\t</div>\n// \t)\n\t    \n// }\n"]},"metadata":{},"sourceType":"module"}