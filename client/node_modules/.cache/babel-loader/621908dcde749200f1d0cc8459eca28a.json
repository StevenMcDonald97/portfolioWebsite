{"ast":null,"code":"var _jsxFileName = \"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editImages.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { FaTrashAlt } from \"react-icons/fa\"; // Font Awesome\n\nimport ImageEditor from \"App/admin/imageEditor\";\nimport ErrorBoundary from 'App/errorBoundary';\nimport { BackButton } from 'App/admin/helperComponents';\n\nconst images = require.context('App/upload', true);\n\nexport default class Contact extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeImage = index => {\n      let deleted = this.state.deletedImages;\n      deleted.push(this.state.images[index].fileName);\n      this.setState({\n        deletedImages: deleted\n      });\n      let values = this.state.images;\n      values.splice(index, 1);\n      this.setState({\n        images: values\n      });\n    };\n\n    this.state = {\n      images: [],\n      imgURLs: [],\n      deletedImages: [],\n      finishedLoadingImages: false\n    };\n    this.loadImages = this.loadImages.bind(this);\n    this.removeImage = this.removeImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.returnToUserPanel = this.returnToUserPanel.bind(this);\n  }\n\n  shouldComponentUpdate() {\n    return !(this.state.imgURLs.length === this.state.images.length && this.state.finishedLoadingImages);\n  }\n\n  componentDidMount() {\n    this.loadImages();\n  }\n\n  returnToUserPanel() {\n    this.props.history.push('/userPanel');\n  }\n\n  loadImages() {\n    /* fetch all images from database */\n    axios.get('/image/getAll').then(response => {\n      this.setState({\n        images: response.data\n      });\n      let values = this.state.imgURLs;\n      response.data.forEach((image, index) => {\n        values.push(images(`./${image.fileName}`));\n      });\n      this.setState({\n        imgURLs: values,\n        finishedLoadingImages: true\n      });\n    });\n  }\n\n  onSubmit(images) {\n    console.log(images);\n    axios.post(\"/edit/editImages\", images, {// receive two    parameter endpoint url ,form data\n    }).then(res => {\n      // then print response status\n      console.log(`Updating images in database returned: ${res.statusText}`);\n    }).catch(err => console.log(err));\n    axios.post(\"/remove/removeImages\", this.state.deletedImages, {}).then(res => {\n      // then print response status\n      console.log(`Deleteing images from database returned: ${res.statusText}`);\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    if (this.state.images.length > 0) {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pageEditor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(BackButton, {\n        backPage: this.returnToUserPanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(ImageEditor, {\n        imageURLs: this.state.imgURLs,\n        images: this.state.images,\n        removeImageFromParent: this.removeImage,\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 10\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, \" No Images to Edit \");\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/editImages.js"],"names":["React","Component","axios","FaTrashAlt","ImageEditor","ErrorBoundary","BackButton","images","require","context","Contact","constructor","props","removeImage","index","deleted","state","deletedImages","push","fileName","setState","values","splice","imgURLs","finishedLoadingImages","loadImages","bind","onSubmit","returnToUserPanel","shouldComponentUpdate","length","componentDidMount","history","get","then","response","data","forEach","image","console","log","post","res","statusText","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport axios from 'axios';\nimport { FaTrashAlt } from \"react-icons/fa\";  // Font Awesome\nimport ImageEditor from \"App/admin/imageEditor\";\nimport ErrorBoundary from 'App/errorBoundary';\nimport { BackButton } from 'App/admin/helperComponents';\n\nconst images = require.context('App/upload', true);\n\nexport default class Contact extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state ={\n\t\t\timages: [],\n\t\t\timgURLs:[],\n\t\t\tdeletedImages:[],\n\t\t\tfinishedLoadingImages: false\n\t\t};\n\t\tthis.loadImages = this.loadImages.bind(this);\n\t\tthis.removeImage=this.removeImage.bind(this);\n\t\tthis.onSubmit=this.onSubmit.bind(this);\n        this.returnToUserPanel=this.returnToUserPanel.bind(this);\n\n   \t}\n\n   \tshouldComponentUpdate () {\n\t    return !((this.state.imgURLs.length===this.state.images.length) && this.state.finishedLoadingImages);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.loadImages();\n\t}\n\n    returnToUserPanel(){\n        this.props.history.push('/userPanel');\n    }\n\n\tloadImages(){\n\t\t/* fetch all images from database */\n\t\taxios.get('/image/getAll')\n\t\t  .then((response) => {\n\t\t  \tthis.setState({images:response.data});\n\t\t  \tlet values=this.state.imgURLs;\n\t\t  \tresponse.data.forEach((image, index)=>{\n\t\t  \t\tvalues.push(images(`./${image.fileName}`));\n\t\t  \t})\n\t\t  \tthis.setState({imgURLs:values, finishedLoadingImages:true})\n\t\t});\n\t}\n\n\tremoveImage = (index) => {\n\t\tlet deleted=this.state.deletedImages;\n\t\tdeleted.push(this.state.images[index].fileName);\n\t\tthis.setState({deletedImages:deleted});\n\n\t\tlet values = this.state.images;\n\t\tvalues.splice(index, 1);\n\t\tthis.setState({images:values});\n\t};\n\n\tonSubmit(images){\n\t\tconsole.log(images);\n\t\taxios.post(\"/edit/editImages\", images, { \n\t          // receive two    parameter endpoint url ,form data\n\t    }).then(res => { // then print response status\n\t        console.log(`Updating images in database returned: ${res.statusText}`)\n\t    }).catch(err => console.log(err));\n\n\t    axios.post(\"/remove/removeImages\", this.state.deletedImages, {}).then(res => { // then print response status\n\t        console.log(`Deleteing images from database returned: ${res.statusText}`)\n\t    }).catch(err => console.log(err));\n\t}\n\n\trender(){\n\t\tif (this.state.images.length>0){\n\t\t\treturn(\n\t    \t\t<ErrorBoundary>\n\t    \t\t\t<div className=\"pageEditor\">\n\t               \t\t<BackButton backPage={this.returnToUserPanel}/>\n\t\t\t    \t\t<ImageEditor imageURLs={this.state.imgURLs} \n\t\t\t\t    \t\timages={this.state.images} \n\t\t\t\t    \t\tremoveImageFromParent={this.removeImage} \n\t\t\t\t    \t\tonSubmit={this.onSubmit}/>\n\t\t\t\t    </div>\n\t\t\t    </ErrorBoundary>\n\t\t\t\t)\t\n\t\t} else {\n\t\t\treturn <h3> No Images to Edit </h3>;\n\t\t}\n\n\t}\n }\n\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}