{"ast":null,"code":"import _classCallCheck from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Formik,Field,Form,ErrorMessage}from'formik';import*as Yup from'yup';import axios from'axios';import{authenticationService}from'src/App/admin/authentication/authenticationService';var RegistrationPage=/*#__PURE__*/function(_Component){_inherits(RegistrationPage,_Component);var _super=_createSuper(RegistrationPage);function RegistrationPage(props){var _this;_classCallCheck(this,RegistrationPage);_this=_super.call(this,props);_this.state={name:'',email:'',pswd:'',confirm:''};// redirect to home if already logged in\nif(authenticationService.currentUserValue){_this.props.history.push('/userPanel');}_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(RegistrationPage,[{key:\"onSubmit\",value:function onSubmit(setStatus){var user=this.state;setStatus();if(user.name&&user.email&&user.pswd&&user.confirm&&user.pswd===user.confirm){axios.post('/user/createUser',user,{}).then(function(res){// then print response status\nalert(res.statusText);}).catch(function(err){return console.log(err);});}else if(user.pswd!==user.confirm){alert('Passwords must match!');}else{alert('Please check that all fields are entered');}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Update Your Profile\"),/*#__PURE__*/React.createElement(Formik,{initialValues:{username:'',email:'',password:'',confirm:''},validationSchema:Yup.object().shape({username:Yup.string().required('Username is required'),email:Yup.string().email().required('A valid email is required'),password:Yup.string().required('Password is required'),confirm:Yup.string().required('Please confirm your password')}),onSubmit:function onSubmit(_ref,_ref2){var username=_ref.username,email=_ref.email,password=_ref.password,confirm=_ref.confirm;var setStatus=_ref2.setStatus;if(username&&email&&password&&confirm&&password===confirm){axios.post('/user/createUser',{name:username,email:email,password:password,confirm:confirm},{}).then(function(res){// then print response status\nalert(res.statusText);}).catch(function(err){return console.log(err);});}else if(password!==confirm){alert('Passwords must match!');}else{alert('Please check that all fields are entered correctly');}}},function(_ref3){var errors=_ref3.errors,status=_ref3.status,touched=_ref3.touched,isSubmitting=_ref3.isSubmitting;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Your Name\"),/*#__PURE__*/React.createElement(Field,{name:\"username\",type:\"text\",className:'form-control'+(errors.username&&touched.username?' is-invalid':'')}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"username\",component:\"div\",className:\"invalid-feedback\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(Field,{name:\"email\",type:\"text\",className:'form-control'+(errors.email&&touched.email?' is-invalid':'')}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"emaile\",component:\"div\",className:\"invalid-feedback\"})),\"                            \",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Field,{name:\"password\",type:\"password\",className:'form-control'+(errors.password&&touched.password?' is-invalid':'')}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"password\",component:\"div\",className:\"invalid-feedback\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirm\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(Field,{name:\"confirm\",type:\"password\",className:'form-control'+(errors.confirm&&touched.confirm?' is-invalid':'')}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"confirm\",component:\"div\",className:\"invalid-feedback\"})),\"                            \",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isSubmitting},\"Register\"),isSubmitting&&/*#__PURE__*/React.createElement(\"img\",{src:\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\",alt:\"\"})),status&&/*#__PURE__*/React.createElement(\"div\",{className:'alert alert-danger'},status));}));}}]);return RegistrationPage;}(Component);export{RegistrationPage as default};","map":{"version":3,"sources":["/Users/Steven/CS-Projects/portfolio-template/portfolioWebsite/client/src/App/admin/register.js"],"names":["React","Component","Formik","Field","Form","ErrorMessage","Yup","axios","authenticationService","RegistrationPage","props","state","name","email","pswd","confirm","currentUserValue","history","push","onSubmit","bind","setStatus","user","post","then","res","alert","statusText","catch","err","console","log","username","password","object","shape","string","required","errors","status","touched","isSubmitting"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\n\nimport { authenticationService } from 'src/App/admin/authentication/authenticationService'\n\nexport default class RegistrationPage extends Component {\n\tconstructor(props) {\n        super(props);\n        this.state={\n            name:'',\n            email:'',\n            pswd:'',\n            confirm:''\n        }\n\n        // redirect to home if already logged in\n        if (authenticationService.currentUserValue) { \n            this.props.history.push('/userPanel');\n        }\n\n        this.onSubmit=this.onSubmit.bind(this);\n\t}\n\n    onSubmit(setStatus){\n        const user = this.state;\n        setStatus();\n\n        if (user.name && user.email && user.pswd && user.confirm && user.pswd === user.confirm){\n            axios.post('/user/createUser', user, {}).then(res=> { // then print response status\n                alert(res.statusText);\n            }).catch(err => console.log(err)); \n        } else if (user.pswd !== user.confirm){\n            alert('Passwords must match!')\n        } else {\n            alert('Please check that all fields are entered')\n        }\n    }\n\t\n\trender() {\n        return (\n            <div>\n                <h2>Update Your Profile</h2>\n                <Formik\n                    initialValues={{\n                        username: '',\n                        email: '',\n                        password: '',\n                        confirm: ''\n                    }}\n                    validationSchema={Yup.object().shape({\n                        username: Yup.string().required('Username is required'),\n                        email: Yup.string().email().required('A valid email is required'),\n                        password: Yup.string().required('Password is required'),\n                        confirm: Yup.string().required('Please confirm your password')\n\n                    })}\n                    onSubmit={({username, email, password, confirm}, { setStatus }) => {        \n                        if (username && email && password && confirm && password === confirm){\n                            axios.post('/user/createUser', {name:username, email:email, password:password, confirm:confirm}, {}).then(res=> { // then print response status\n                                alert(res.statusText);\n                            }).catch(err => console.log(err)); \n                        } else if (password !== confirm){\n                            alert('Passwords must match!')\n                        } else {\n                            alert('Please check that all fields are entered correctly')\n                        }}\n                    }\n                >\n                    {({ errors, status, touched, isSubmitting }) => (\n                        <Form>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Your Name</label>\n                                <Field name=\"username\" type=\"text\" className={'form-control' + (errors.username && touched.username ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"username\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">Email</label>\n                                <Field name=\"email\" type=\"text\" className={'form-control' + (errors.email && touched.email ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"emaile\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <Field name=\"password\" type=\"password\" className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"confirm\">Confirm Password</label>\n                                <Field name=\"confirm\" type=\"password\" className={'form-control' + (errors.confirm && touched.confirm ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"confirm\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>                            <div className=\"form-group\">\n                                <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Register</button>\n                                {isSubmitting &&\n                                    <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" alt=\"\"/>\n                                }\n                            </div>\n                            {status &&\n                                <div className={'alert alert-danger'}>{status}</div>\n                            }\n                        </Form>\n                    )}\n                </Formik>\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}